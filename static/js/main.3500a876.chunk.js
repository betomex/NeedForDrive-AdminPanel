(this.webpackJsonpneedfordriveadmin=this.webpackJsonpneedfordriveadmin||[]).push([[0],{174:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},184:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(43),r=n.n(c),s=(n(174),n(102)),i=n(26),o=(n(179),n(27)),l=n(29),d=n(282),u=n(292),j=n(74),O=n(298),b=n(299),h=n(300),m=n(301),p=(n(180),n(23)),f=n(289),x=n(163),v=(n(181),n(36)),g=(n(182),n(294)),S=n(295),T=n(6),y=function(e,t){return e?Object(T.jsxs)("div",{className:"orderCarOption",children:[Object(T.jsx)(g.a,{className:"isCarOption"}),Object(T.jsx)("p",{children:t})]}):Object(T.jsxs)("div",{className:"orderCarOption",children:[Object(T.jsx)(S.a,{className:"isNotCarOption"}),Object(T.jsx)("p",{className:"isNotCarOptionText",children:t})]})},I=function(e){var t,n,a,c,r,s,i=e.order,o=new Date(null===i||void 0===i?void 0:i.dateFrom),l=new Date(null===i||void 0===i?void 0:i.dateTo);return Object(T.jsxs)("div",{className:"orderContent",children:[Object(T.jsx)("div",{className:"orderImageBlock",children:Object(T.jsx)("img",{src:null===i||void 0===i||null===(t=i.carId)||void 0===t?void 0:t.thumbnail.path,alt:"carImage",className:"orderCarImage"})}),Object(T.jsxs)("div",{className:"orderInfoBlock",children:[Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:null===i||void 0===i||null===(n=i.carId)||void 0===n?void 0:n.name}),(null===i||void 0===i||null===(a=i.cityId)||void 0===a?void 0:a.name)&&" \u0432 ",Object(T.jsx)("span",{children:null===i||void 0===i||null===(c=i.cityId)||void 0===c?void 0:c.name}),(null===i||void 0===i||null===(r=i.pointId)||void 0===r?void 0:r.address)&&", ",null===i||void 0===i||null===(s=i.pointId)||void 0===s?void 0:s.address]}),Object(T.jsxs)("p",{children:[o.toLocaleString()," \u2014 ",l.toLocaleString()]}),Object(T.jsxs)("p",{children:["\u0426\u0432\u0435\u0442: ",Object(T.jsx)("span",{children:null===i||void 0===i?void 0:i.color})]})]}),Object(T.jsxs)("div",{className:"orderOptionsBlock",children:[y(null===i||void 0===i?void 0:i.isFullTank,"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"),y(null===i||void 0===i?void 0:i.isNeedChildChair,"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"),y(null===i||void 0===i?void 0:i.isRightWheel,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c")]}),Object(T.jsx)("div",{className:"orderPriceBlock",children:Object(T.jsxs)("p",{className:"orderPrice",children:[null===i||void 0===i?void 0:i.price," \u20bd"]})})]})},N=n(286),C=n(94),w=n(58),F=(n(184),n(24)),A=n.n(F),_=n(33),R=n(106),k=n.n(R),E=k.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}}),P=function(e){var t="";return e&&e.field&&e.sortDirection&&(t+="?sort[".concat(e.field,"]=").concat(e.sortDirection)),t},D=function(e,t,n){var a="";return n&&(n.cityId&&(a+="&cityId=".concat(n.cityId)),n.orderStatus&&(a+="&orderStatusId=".concat(n.orderStatus)),n.dateFrom&&(a+="&dateFrom%5B%24gt%5D=".concat(n.dateFrom))),E.get("db/order?page=".concat(e,"&limit=").concat(t).concat(a))},U=function(){return E.get("db/orderStatus").then((function(e){return e.data.data}))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=n?"db/car".concat(P(n),"&page=").concat(e,"&limit=").concat(t):"db/car?page=".concat(e,"&limit=").concat(t);return E.get(a)},M=function(e){return E.get("db/city".concat(P(e)))},B=function(e){return E.get("db/point".concat(P(e)))},H=function(e){return{type:"ORDERS/SET_ORDERS_PORTION",payload:e}},z=function(e){return{type:"ORDERS/ORDERS_TOTAL_COUNT",payload:e}},K=function(e){return{type:"ORDERS/SET_ORDER_STATUS",payload:e}},q=function(e){return{type:"CITIES/SET_CITIES_PORTION",payload:e}},J=function(e){return{type:"CITIES/CITIES_TOTAL_COUNT",payload:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(_.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:a=t.sent,n(J(a.data.count)),n(q(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e){var t=e.onFilterFormFinish,n=Object(i.c)((function(e){return e.orders.orderStatus})),c=Object(i.c)((function(e){return e.cities.cities})),r=Object(i.b)();return Object(a.useEffect)((function(){r(function(){var e=Object(_.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n=e.sent,t(K(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(V())}),[]),Object(T.jsxs)(N.a,{name:"ordersFilterForm",className:"filterForm",onFinish:t,children:[Object(T.jsx)(N.a.Item,{className:"filterFormItem",name:"cityId",children:Object(T.jsx)(C.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",allowClear:!0,children:c.map((function(e){return Object(T.jsx)(C.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(T.jsx)(N.a.Item,{className:"filterFormItem",name:"orderStatus",children:Object(T.jsx)(C.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430",allowClear:!0,children:n.map((function(e){return Object(T.jsx)(C.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(T.jsx)(N.a.Item,{className:"filterFormItem",name:"dateFrom",children:Object(T.jsxs)(C.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a",allowClear:!0,children:[Object(T.jsx)(C.a.Option,{value:"month",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(T.jsx)(C.a.Option,{value:"week",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043d\u0435\u0434\u0435\u043b\u044e"}),Object(T.jsx)(C.a.Option,{value:"day",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0434\u0435\u043d\u044c"})]})}),Object(T.jsx)(N.a.Item,{children:Object(T.jsx)(w.a,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},Q=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(10),s=Object(l.a)(r,2),o=s[0],u=(s[1],Object(a.useState)(null)),j=Object(l.a)(u,2),O=j[0],b=j[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),g=m[0],S=m[1],y=Object(i.c)((function(e){return e.orders})),N=y.orders,C=y.totalCount,w=Object(i.b)(),F=Object(v.a)(),R=function(e){var t=new Date,n="";switch(e.dateFrom){case"month":n=t.setMonth(t.getMonth()-1);break;case"week":n=t.setDate(t.getDate()-7);break;case"day":n=t.setDate(t.getDate()-1)}b(Object(p.a)(Object(p.a)({},e),{},{dateFrom:n}))};return Object(a.useEffect)((function(){w(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(_.a)(A.a.mark((function a(c){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D(e,t,n);case 2:r=a.sent,c(z(r.data.count)),c(H(r.data.data));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n-1,o,O))}),[n,O]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{className:"pageTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(T.jsxs)(d.a.Content,{className:"ordersListContent",children:[F.xs?Object(T.jsx)(f.a,{ghost:!0,onChange:S,children:Object(T.jsx)(f.a.Panel,{header:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",children:Object(T.jsx)(X,{onFilterFormFinish:R})},1)}):Object(T.jsx)(X,{onFilterFormFinish:R}),Object(T.jsx)("div",{className:"ordersList",style:g.length?{height:"35%"}:{height:"70%"},children:N.map((function(e){return Object(T.jsx)(I,{order:e},e.id)}))}),Object(T.jsx)(x.a,{total:C,pageSize:20,current:n,showQuickJumper:!0,showTotal:function(e){return"\u0412\u0441\u0435\u0433\u043e ".concat(e," \u0437\u0430\u043a\u0430\u0437\u043e\u0432")},onChange:function(e){c(e)},simple:F.xs,size:F.lg?"default":"small"})]})]})},W=n(283),G=n(284),Y=n(291),Z=n(290),$=n(296),ee=n(118),te=n(297),ne=n.p+"static/media/Logo Icon.830257bf.svg",ae=n.p+"static/media/avatar.8845cada.png",ce=(n(269),function(e){var t=e.setVisible,n=Object(v.a)();return Object(T.jsxs)(W.a,{className:"adminPageHeader",children:[Object(T.jsxs)(G.a,{xs:{span:15},md:{span:7},lg:{span:6},xl:{span:4},className:"adminPageCompany",children:[Object(T.jsx)(w.a,{className:"sideMenuButton",onClick:function(){return t(!0)},children:Object(T.jsx)($.a,{})}),Object(T.jsx)("img",{src:ne,alt:"logo",className:"logoImg"}),Object(T.jsx)("p",{className:"logoTitle",children:"Need For Drive"})]}),Object(T.jsx)(G.a,{className:"adminPageSearch",xs:{offset:3,span:3},md:{offset:11,span:2},lg:{offset:12},xl:{offset:17,span:1},children:Object(T.jsx)(ee.a,{className:"searchIcon"})}),Object(T.jsx)(G.a,{xs:n.xs&&{offset:3,span:3},md:{span:2},xl:{span:1},className:"adminPageHeaderNotification",children:Object(T.jsx)(Y.a,{count:2,size:"small",children:Object(T.jsx)(te.a,{className:"notificationIcon"})})}),Object(T.jsx)(G.a,{xs:{span:3},md:{span:2},xl:{span:1},className:"adminUserAccount",children:Object(T.jsx)(Z.a,{src:ae})})]})}),re=(n(270),n(285)),se=n(287),ie=[{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",dataIndex:"categoryId",key:"categoryId",render:function(e){return"".concat(null===e||void 0===e?void 0:e.name)}},{title:"\u0426\u0432\u0435\u0442\u0430",dataIndex:"colors",key:"colors",render:function(e){return e.map((function(t,n){return"".concat(t.toUpperCase()," ").concat(n!==e.length-1?", ":"")}))}},{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e",key:"number",dataIndex:"number"},{title:"\u0426\u0435\u043d\u0430",key:"priceMin",dataIndex:"priceMin"},{title:"\u0424\u043e\u0442\u043e",key:"thumbnail",dataIndex:"thumbnail",render:function(e){return Object(T.jsx)(se.a,{src:null===e||void 0===e?void 0:e.path,alt:"carImage",preview:!1,width:100})}}],oe=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"}],le=[{title:"\u0413\u043e\u0440\u043e\u0434",dataIndex:"cityId",key:"cityId",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u0410\u0434\u0440\u0435\u0441",dataIndex:"address",key:"address"},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"}],de=function(e){return{type:"CARS/SET_CARS_PORTION",payload:e}},ue=function(e){return{type:"CARS/CARS_TOTAL_COUNT",payload:e}},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(_.a)(A.a.mark((function a(c){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L(e,t,n);case 2:r=a.sent,c(ue(r.data.count)),c(de(r.data.data));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Oe=function(e){var t=e.fields,n=e.onSorterFormFinish;return Object(T.jsxs)(N.a,{className:"filterForm",name:"sorterForm",onFinish:n,children:[Object(T.jsx)(N.a.Item,{className:"filterFormItem",name:"field",children:Object(T.jsx)(C.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",allowClear:!0,children:t.map((function(e){return Object(T.jsx)(C.a.Option,{value:e,children:e},e)}))})}),Object(T.jsx)(N.a.Item,{className:"filterFormItem",name:"sortDirection",children:Object(T.jsxs)(C.a,{placeholder:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e...",allowClear:!0,children:[Object(T.jsx)(C.a.Option,{value:1,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(T.jsx)(C.a.Option,{value:-1,children:"\u0423\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})}),Object(T.jsx)(N.a.Item,{children:Object(T.jsx)(w.a,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},be=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),s=Object(l.a)(r,2),o=s[0],u=s[1],j=Object(a.useState)([]),O=Object(l.a)(j,2),b=O[0],h=O[1],m=Object(a.useState)(null),p=Object(l.a)(m,2),x=p[0],g=p[1],S=Object(i.c)((function(e){return e.cars})),y=S.cars,I=S.totalCount,N=Object(i.b)(),C=Object(v.a)(),w=function(e){g(e)};return Object(a.useEffect)(Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,N(je(o-1,null,x));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[o,x]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{className:"pageTitle",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"}),Object(T.jsxs)(d.a.Content,{className:"ordersListContent",children:[C.xs?Object(T.jsx)(f.a,{ghost:!0,onChange:h,children:Object(T.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(T.jsx)(Oe,{fields:["categoryId","name","priceMin"],onSorterFormFinish:w})},1)}):Object(T.jsx)(Oe,{fields:["categoryId","name","priceMin"],onSorterFormFinish:w}),Object(T.jsx)("div",{className:"carsTable",style:b.length?{height:"55%"}:{height:"90%"},children:Object(T.jsx)(re.a,{bordered:!0,columns:ie,dataSource:y,loading:n,rowKey:function(e){return e.id},pagination:{total:I,pageSize:10,current:o,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0430\u0432\u0442\u043e")},onChange:function(e){u(e)}}})})]})]})},he=(n(276),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),o=s[0],u=s[1],j=Object(a.useState)(null),O=Object(l.a)(j,2),b=O[0],h=O[1],m=Object(i.c)((function(e){return e.cities})),p=m.cities,x=m.totalCount,g=Object(i.b)(),S=Object(v.a)(),y=function(e){h(e)};return Object(a.useEffect)(Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,g(V(b));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[b]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{className:"pageTitle",children:"\u0413\u043e\u0440\u043e\u0434\u0430"}),Object(T.jsxs)(d.a.Content,{className:"ordersListContent",children:[S.xs?Object(T.jsx)(f.a,{ghost:!0,onChange:u,children:Object(T.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(T.jsx)(Oe,{fields:["name"],onSorterFormFinish:y})},1)}):Object(T.jsx)(Oe,{fields:["name"],onSorterFormFinish:y}),Object(T.jsx)("div",{className:"citiesTable",style:o.length?{height:"60%"}:{height:"90%"},children:Object(T.jsx)(re.a,{bordered:!0,columns:oe,dataSource:p,loading:n,rowKey:function(e){return e.id},pagination:{total:x,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0433\u043e\u0440\u043e\u0434\u043e\u0432")}}})})]})]})}),me=(n(277),function(e){return{type:"POINTS/SET_POINTS_PORTION",payload:e}}),pe=function(e){return{type:"POINTS/POINTS_TOTAL_COUNT",payload:e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(_.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:a=t.sent,n(pe(a.data.count)),n(me(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},xe=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),o=s[0],u=s[1],j=Object(a.useState)(null),O=Object(l.a)(j,2),b=O[0],h=O[1],m=Object(i.c)((function(e){return e.points})),p=m.points,x=m.totalCount,g=Object(i.b)(),S=Object(v.a)(),y=function(e){h(e)};return Object(a.useEffect)(Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,g(fe(b));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[b]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h1",{className:"pageTitle",children:"\u041f\u0443\u043d\u043a\u0442\u044b"}),Object(T.jsxs)(d.a.Content,{className:"ordersListContent",children:[S.xs?Object(T.jsx)(f.a,{ghost:!0,onChange:u,children:Object(T.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(T.jsx)(Oe,{fields:["cityId","address","name"],onSorterFormFinish:y})},1)}):Object(T.jsx)(Oe,{fields:["cityId","address","name"],onSorterFormFinish:y}),Object(T.jsx)("div",{className:"pointsTable",style:o.length?{height:"55%"}:{height:"90%"},children:Object(T.jsx)(re.a,{bordered:!0,columns:le,dataSource:p,loading:n,rowKey:function(e){return e.id},pagination:{total:x,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u043f\u0443\u043d\u043a\u0442\u043e\u0432")}}})})]})]})},ve=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1];return Object(T.jsxs)(d.a,{children:[Object(T.jsx)(ce,{setVisible:o}),Object(T.jsxs)(d.a,{children:[Object(T.jsx)(u.a,{title:"\u041c\u0435\u043d\u044e",placement:"left",onClose:function(){o(!1)},visible:i,children:Object(T.jsxs)(j.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},onSelect:function(e){c(Number(e.key)),o(!1)},children:[Object(T.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(T.jsx)(O.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},"1"),Object(T.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(T.jsx)(b.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0430\u0432\u0442\u043e"},"2"),Object(T.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(T.jsx)(h.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"},"3"),Object(T.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(T.jsx)(m.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0443\u043d\u043a\u0442\u043e\u0432"},"4")]})}),Object(T.jsxs)(d.a,{className:"adminPageContainer",children:[1===n&&Object(T.jsx)(Q,{}),2===n&&Object(T.jsx)(be,{}),3===n&&Object(T.jsx)(he,{}),4===n&&Object(T.jsx)(xe,{})]})]})]})},ge=(n(278),n(293)),Se=n(288),Te=n(302),ye=n(303),Ie="0123456789abcdefghijklmnopqrstuvwxyz",Ne=k.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:function(){for(var e="";e.length<7;)e+=Ie[Math.floor(Math.random()*Ie.length)];return"Basic ".concat(window.btoa("".concat(e,":").concat("4cbcea96de")))}()}}),Ce=function(e,t){var n={username:e,password:t};return Ne.post("auth/login",n)},we=function(e){return{type:"AUTH/SET_AUTH_DATA",payload:e}},Fe=function(e){return{type:"AUTH/SET_AUTH_STATUS",payload:e}},Ae=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.authStatus}));return Object(T.jsx)("div",{className:"loginContainer",children:Object(T.jsxs)("div",{className:"loginContent",children:[Object(T.jsxs)(ge.b,{className:"loginHeader",size:"middle",children:[Object(T.jsx)("img",{className:"logo",src:ne,alt:"logo"}),Object(T.jsx)("p",{className:"company",children:"Need For Drive"})]}),Object(T.jsxs)("div",{className:"loginCard",children:[Object(T.jsx)("p",{className:"loginTitle",children:"\u0412\u0445\u043e\u0434"}),Object(T.jsxs)(N.a,{name:"loginForm",onFinish:function(t){var n,a;e((n=t.username,a=t.password,function(){var e=Object(_.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(n,a);case 3:c=e.sent,sessionStorage.setItem("access_token",c.data.access_token),sessionStorage.setItem("refresh_token",c.data.refresh_token),t(we(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(Fe(e.t0.response.status));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{remember:!0},children:[Object(T.jsx)(N.a.Item,{className:"formItem",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}],validateStatus:401===t?"error":null,children:Object(T.jsx)(Se.a,{prefix:Object(T.jsx)(Te.a,{}),placeholder:"Username",allowClear:!0})}),Object(T.jsx)(N.a.Item,{className:"formItem",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],validateStatus:401===t?"error":null,help:401===t?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":null,children:Object(T.jsx)(Se.a,{prefix:Object(T.jsx)(ye.a,{}),type:"password",placeholder:"Password",allowClear:!0})}),Object(T.jsxs)("div",{className:"loginCardFooter",children:[Object(T.jsx)("a",{children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(T.jsx)(w.a,{type:"primary",htmlType:"submit",className:"submitButton",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})},_e=function(e){var t=e.path,n=e.redirect,a=e.isAuth,c=e.children;return Object(T.jsx)(o.b,{path:t,render:function(){return a?c:Object(T.jsx)(o.a,{to:n})}})},Re=function(){var e=Object(i.c)((function(e){return e.auth.isAuth}));return Object(T.jsxs)(o.d,{children:[Object(T.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(T.jsx)(o.a,{to:"/admin"})}}),Object(T.jsx)(_e,{path:"/admin",redirect:"/login",isAuth:e,children:Object(T.jsx)(ve,{})}),Object(T.jsx)(_e,{path:"/login",redirect:"/admin",isAuth:!e,children:Object(T.jsx)(Ae,{})})]})},ke=n(123),Ee=n(161),Pe={isAuth:!1,authStatus:null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_DATA":return Object(p.a)(Object(p.a)({},e),{},{isAuth:!0});case"AUTH/SET_AUTH_STATUS":return Object(p.a)(Object(p.a)({},e),{},{authStatus:t.payload});default:return e}},Ue={orders:[],totalCount:null,orderStatus:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS/SET_ORDERS_PORTION":return Object(p.a)(Object(p.a)({},e),{},{orders:t.payload});case"ORDERS/ORDERS_TOTAL_COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalCount:t.payload});case"ORDERS/SET_ORDER_STATUS":return Object(p.a)(Object(p.a)({},e),{},{orderStatus:t.payload});default:return e}},Me={cars:[],totalCount:null},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS/SET_CARS_PORTION":return Object(p.a)(Object(p.a)({},e),{},{cars:t.payload});case"CARS/CARS_TOTAL_COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalCount:t.payload});default:return e}},He={cities:[],totalCount:null},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITIES/SET_CITIES_PORTION":return Object(p.a)(Object(p.a)({},e),{},{cities:t.payload});case"CITIES/CITIES_TOTAL_COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalCount:t.payload});default:return e}},Ke={points:[],totalCount:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POINTS/SET_POINTS_PORTION":return Object(p.a)(Object(p.a)({},e),{},{points:t.payload});case"POINTS/POINTS_TOTAL_COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalCount:t.payload});default:return e}},Je=Object(ke.b)({auth:De,orders:Le,cars:Be,cities:ze,points:qe}),Ve=Object(ke.c)(Je,Object(ke.a)(Ee.a)),Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,304)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(T.jsx)(i.a,{store:Ve,children:Object(T.jsx)(s.a,{children:Object(T.jsx)(Re,{})})}),document.getElementById("root")),Xe()}},[[280,1,2]]]);
//# sourceMappingURL=main.3500a876.chunk.js.map