(this.webpackJsonpneedfordriveadmin=this.webpackJsonpneedfordriveadmin||[]).push([[0],{199:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},209:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(34),r=n.n(c),i=(n(199),n(36)),s=n(22),o=(n(204),n(33)),l=n(30),u=n(310),d=n(323),j=n(85),b=n(329),O=n(330),p=n(331),m=n(332),h=(n(205),n(18)),f=n(320),x=n(186),v=(n(206),n(41)),y=(n(207),n(325)),T=n(326),g=n(5),S=function(e,t){return e?Object(g.jsxs)("div",{className:"orderCarOption",children:[Object(g.jsx)(y.a,{className:"isCarOption"}),Object(g.jsx)("p",{children:t})]}):Object(g.jsxs)("div",{className:"orderCarOption",children:[Object(g.jsx)(T.a,{className:"isNotCarOption"}),Object(g.jsx)("p",{className:"isNotCarOptionText",children:t})]})},I=function(e){var t,n,a,c,r,i,s=e.order,o=new Date(null===s||void 0===s?void 0:s.dateFrom),l=new Date(null===s||void 0===s?void 0:s.dateTo);return Object(g.jsxs)("div",{className:"orderContent",children:[Object(g.jsx)("div",{className:"orderImageBlock",children:Object(g.jsx)("img",{src:null===s||void 0===s||null===(t=s.carId)||void 0===t?void 0:t.thumbnail.path,alt:"carImage",className:"orderCarImage"})}),Object(g.jsxs)("div",{className:"orderInfoBlock",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{children:null===s||void 0===s||null===(n=s.carId)||void 0===n?void 0:n.name}),(null===s||void 0===s||null===(a=s.cityId)||void 0===a?void 0:a.name)&&" \u0432 ",Object(g.jsx)("span",{children:null===s||void 0===s||null===(c=s.cityId)||void 0===c?void 0:c.name}),(null===s||void 0===s||null===(r=s.pointId)||void 0===r?void 0:r.address)&&", ",null===s||void 0===s||null===(i=s.pointId)||void 0===i?void 0:i.address]}),Object(g.jsxs)("p",{children:[o.toLocaleString()," \u2014 ",l.toLocaleString()]}),Object(g.jsxs)("p",{children:["\u0426\u0432\u0435\u0442: ",Object(g.jsx)("span",{children:null===s||void 0===s?void 0:s.color})]})]}),Object(g.jsxs)("div",{className:"orderOptionsBlock",children:[S(null===s||void 0===s?void 0:s.isFullTank,"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"),S(null===s||void 0===s?void 0:s.isNeedChildChair,"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"),S(null===s||void 0===s?void 0:s.isRightWheel,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c")]}),Object(g.jsx)("div",{className:"orderPriceBlock",children:Object(g.jsxs)("p",{className:"orderPrice",children:[null===s||void 0===s?void 0:s.price," \u20bd"]})})]})},C=n(316),N=n(73),E=n(40),w=(n(209),n(16)),_=n.n(w),A=n(24),k=n(121),F=n.n(k),R=F.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}}),P=function(e){var t="";return e&&e.field&&e.sortDirection&&(t+="?sort[".concat(e.field,"]=").concat(e.sortDirection)),t},U=function(e,t,n){var a="";return n&&(n.cityId&&(a+="&cityId=".concat(n.cityId)),n.orderStatus&&(a+="&orderStatusId=".concat(n.orderStatus)),n.dateFrom&&(a+="&dateFrom%5B%24gt%5D=".concat(n.dateFrom))),R.get("db/order?page=".concat(e,"&limit=").concat(t).concat(a))},D=function(){return R.get("db/orderStatus").then((function(e){return e.data.data}))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=n?"db/car".concat(P(n),"&page=").concat(e,"&limit=").concat(t):"db/car?page=".concat(e,"&limit=").concat(t);return R.get(a)},L=function(){return R.get("db/category").then((function(e){return e.data.data}))},M=function(e,t){return R.put("db/car/".concat(e),t)},q=function(e){return R.post("db/car",e)},z=function(e){return R.delete("db/car/".concat(e))},H=function(e){return R.get("db/city".concat(P(e)))},V=function(e,t){return R.put("db/city/".concat(e),t)},Y=function(e){return R.post("db/city",e)},G=function(e){return R.get("db/point".concat(P(e)))},K=function(e,t){return R.put("db/point/".concat(e),t)},J=function(e){return R.post("db/point",e)},X=function(e){return{type:"ORDERS/SET_ORDERS_PORTION",payload:e}},Q=function(e){return{type:"ORDERS/ORDERS_TOTAL_COUNT",payload:e}},W=function(e){return{type:"ORDERS/SET_ORDER_STATUS",payload:e}},Z=function(e){return{type:"CITIES/SET_CITIES_PORTION",payload:e}},$=function(e){return{type:"CITIES/CITIES_TOTAL_COUNT",payload:e}},ee=function(e){return{type:"CITIES/SET_CITY_TO_EDIT",payload:e}},te=function(e){return{type:"CITIES/SET_CITY_ACTION",payload:e}},ne=function(e){return{type:"CITIES/SET_CITY_SUCCESS",payload:e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(A.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e);case 2:a=t.sent,n($(a.data.count)),n(Z(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(ee(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(ne(!1)),n(te(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){var t=e.onFilterFormFinish,n=Object(s.c)((function(e){return e.orders.orderStatus})),c=Object(s.c)((function(e){return e.cities.cities})),r=Object(s.b)();return Object(a.useEffect)((function(){r(function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,t(W(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(ae())}),[]),Object(g.jsxs)(C.a,{name:"ordersFilterForm",className:"filterForm",onFinish:t,children:[Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"cityId",children:Object(g.jsx)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",allowClear:!0,children:c.map((function(e){return Object(g.jsx)(N.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"orderStatus",children:Object(g.jsx)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430",allowClear:!0,children:n.map((function(e){return Object(g.jsx)(N.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"dateFrom",children:Object(g.jsxs)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a",allowClear:!0,children:[Object(g.jsx)(N.a.Option,{value:"month",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(g.jsx)(N.a.Option,{value:"week",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043d\u0435\u0434\u0435\u043b\u044e"}),Object(g.jsx)(N.a.Option,{value:"day",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0434\u0435\u043d\u044c"})]})}),Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},se=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(10),i=Object(l.a)(r,2),o=i[0],d=(i[1],Object(a.useState)(null)),j=Object(l.a)(d,2),b=j[0],O=j[1],p=Object(a.useState)([]),m=Object(l.a)(p,2),y=m[0],T=m[1],S=Object(s.c)((function(e){return e.orders})),C=S.orders,N=S.totalCount,E=Object(s.b)(),w=Object(v.a)(),k=function(e){var t=new Date,n="";switch(e.dateFrom){case"month":n=t.setMonth(t.getMonth()-1);break;case"week":n=t.setDate(t.getDate()-7);break;case"day":n=t.setDate(t.getDate()-1)}O(Object(h.a)(Object(h.a)({},e),{},{dateFrom:n}))};return Object(a.useEffect)((function(){E(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(A.a)(_.a.mark((function a(c){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,U(e,t,n);case 2:r=a.sent,c(Q(r.data.count)),c(X(r.data.data));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n-1,o,b))}),[n,b]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[w.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:T,children:Object(g.jsx)(f.a.Panel,{header:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",children:Object(g.jsx)(ie,{onFilterFormFinish:k})},1)}):Object(g.jsx)(ie,{onFilterFormFinish:k}),Object(g.jsx)("div",{className:"ordersList",style:y.length?{height:"35%"}:{height:"70%"},children:C.map((function(e){return Object(g.jsx)(I,{order:e},e.id)}))}),Object(g.jsx)(x.a,{total:N,pageSize:20,current:n,showQuickJumper:!0,showSizeChanger:!1,showTotal:function(e){return"\u0412\u0441\u0435\u0433\u043e ".concat(e," \u0437\u0430\u043a\u0430\u0437\u043e\u0432")},onChange:function(e){c(e)},simple:w.xs,size:w.lg?"default":"small"})]})]})},oe=n(311),le=n(312),ue=n(322),de=n(321),je=n(327),be=n(138),Oe=n(328),pe=n.p+"static/media/Logo Icon.830257bf.svg",me=n.p+"static/media/avatar.8845cada.png",he=(n(294),function(e){var t=e.setVisible,n=Object(v.a)();return Object(g.jsxs)(oe.a,{className:"adminPageHeader",children:[Object(g.jsxs)(le.a,{xs:{span:15},md:{span:7},lg:{span:6},xl:{span:4},className:"adminPageCompany",children:[Object(g.jsx)(E.a,{className:"sideMenuButton",onClick:function(){return t(!0)},children:Object(g.jsx)(je.a,{})}),Object(g.jsx)("img",{src:pe,alt:"logo",className:"logoImg"}),Object(g.jsx)("p",{className:"logoTitle",children:"Need For Drive"})]}),Object(g.jsx)(le.a,{className:"adminPageSearch",xs:{offset:3,span:3},md:{offset:11,span:2},lg:{offset:12},xl:{offset:17,span:1},children:Object(g.jsx)(be.a,{className:"searchIcon"})}),Object(g.jsx)(le.a,{xs:n.xs&&{offset:3,span:3},md:{span:2},xl:{span:1},className:"adminPageHeaderNotification",children:Object(g.jsx)(ue.a,{count:2,size:"small",children:Object(g.jsx)(Oe.a,{className:"notificationIcon"})})}),Object(g.jsx)(le.a,{xs:{span:3},md:{span:2},xl:{span:1},className:"adminUserAccount",children:Object(g.jsx)(de.a,{src:me})})]})}),fe=(n(295),n(314)),xe=n(317),ve=n(319),ye=n(324),Te=n(109),ge=function(e){return{type:"CARS/SET_CARS_PORTION",payload:e}},Se=function(e){return{type:"CARS/CARS_TOTAL_COUNT",payload:e}},Ie=function(e){return{type:"CARS/SET_CAR_TO_EDIT",payload:e}},Ce=function(e){return{type:"CARS/SET_CATEGORIES",payload:e}},Ne=function(e){return{type:"CARS/SET_CAR_ACTION",payload:e}},Ee=function(e){return{type:"CARS/SET_CAR_SUCCESS",payload:e}},we=function(e){return{type:"CARS/SET_CURRENT_PAGE",payload:e}},_e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(A.a)(_.a.mark((function a(c){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B(e,t,n);case 2:r=a.sent,c(Se(r.data.count)),c(ge(r.data.data));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Ie(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Ee(!1)),n(Ne(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Fe=function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(a){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M(e,t);case 2:200===n.sent.status?a(Ee(!0)):a(Ee(!1));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:200===t.sent.status?n(Ee(!0)):n(Ee(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Pe=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(we(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ue=function(e){return{type:"POINTS/SET_POINTS_PORTION",payload:e}},De=function(e){return{type:"POINTS/POINTS_TOTAL_COUNT",payload:e}},Be=function(e){return{type:"POINTS/SET_POINT_TO_EDIT",payload:e}},Le=function(e){return{type:"POINTS/SET_POINT_ACTION",payload:e}},Me=function(e){return{type:"POINTS/SET_POINT_SUCCESS",payload:e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(A.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:a=t.sent,n(De(a.data.count)),n(Ue(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ze=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Be(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},He=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Me(!1)),n(Le(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ve=[{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",dataIndex:"categoryId",key:"categoryId",render:function(e){return"".concat(null===e||void 0===e?void 0:e.name)}},{title:"\u0426\u0432\u0435\u0442\u0430",dataIndex:"colors",key:"colors",render:function(e){return e.map((function(t,n){return"".concat(t.toUpperCase()," ").concat(n!==e.length-1?", ":"")}))}},{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e",key:"number",dataIndex:"number"},{title:"\u0426\u0435\u043d\u0430",key:"priceMin",dataIndex:"priceMin"},{title:"\u0424\u043e\u0442\u043e",key:"thumbnail",dataIndex:"thumbnail",render:function(e){return Object(g.jsx)(xe.a,{src:null===e||void 0===e?void 0:e.path,alt:"carImage",preview:!1,width:100})}},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.cars.currentPage})),a=function(){ve.a.confirm({title:"\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0430\u0448\u0438\u043d\u0443?",icon:Object(g.jsx)(Te.a,{}),onOk:function(){var a;console.log(n),t((a=e.id,Object(A.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(a);case 2:case"end":return e.stop()}}),e)}))))),t(Pe(1)),t(_e(1))}})};return Object(g.jsxs)(ye.b,{children:[Object(g.jsx)(i.b,{to:"car-edit",onClick:function(){t(ke("update")),t(Ae(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(g.jsx)(E.a,{type:"link",onClick:function(){t(a)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}}],Ye=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(s.b)();return Object(g.jsx)(i.b,{to:"city-edit",onClick:function(){t(re("update")),t(ce(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],Ge=[{title:"\u0413\u043e\u0440\u043e\u0434",dataIndex:"cityId",key:"cityId",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u0410\u0434\u0440\u0435\u0441",dataIndex:"address",key:"address"},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(s.b)();return Object(g.jsx)(i.b,{to:"point-edit",onClick:function(){t(He("update")),t(ze(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],Ke=function(e){var t=e.fields,n=e.onSorterFormFinish;return Object(g.jsxs)(C.a,{className:"filterForm",name:"sorterForm",onFinish:n,children:[Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"field",children:Object(g.jsx)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",allowClear:!0,children:t.map((function(e){return Object(g.jsx)(N.a.Option,{value:e.idName,children:e.name},e.idName)}))})}),Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"sortDirection",children:Object(g.jsxs)(N.a,{placeholder:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e...",allowClear:!0,children:[Object(g.jsx)(N.a.Option,{value:1,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(g.jsx)(N.a.Option,{value:-1,children:"\u0423\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})}),Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},Je=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),p=O[0],m=O[1],h=Object(s.c)((function(e){return e.cars})),x=h.cars,y=h.totalCount,T=h.currentPage,S=Object(s.b)(),I=Object(v.a)(),C=function(e){m(e)};return Object(a.useEffect)(Object(A.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,S(_e(T-1,10,p));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[T,p]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[I.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:j,children:Object(g.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(g.jsx)(Ke,{fields:[{idName:"categoryId",name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},{idName:"priceMin",name:"\u0426\u0435\u043d\u0430"}],onSorterFormFinish:C})},1)}):Object(g.jsx)(Ke,{fields:[{idName:"categoryId",name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},{idName:"priceMin",name:"\u0426\u0435\u043d\u0430"}],onSorterFormFinish:C}),Object(g.jsx)(i.b,{to:"car-edit",children:Object(g.jsx)(E.a,{type:"primary",className:"addEntityButton",onClick:function(){S(ke("create")),S(Ae(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e"})}),Object(g.jsx)("div",{className:"carsTable",style:d.length?{height:"55%"}:{height:"85%"},children:Object(g.jsx)(fe.a,{bordered:!0,columns:Ve,dataSource:x,loading:n,rowKey:function(e){return e.id},pagination:{total:y,pageSize:10,current:T,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0430\u0432\u0442\u043e")},onChange:function(e){S(Pe(e))}}})})]})]})},Xe=(n(302),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),p=O[0],m=O[1],h=Object(s.c)((function(e){return e.cities})),x=h.cities,y=h.totalCount,T=Object(s.b)(),S=Object(v.a)(),I=function(e){m(e)};return Object(a.useEffect)(Object(A.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,T(ae(p));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[p]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u0413\u043e\u0440\u043e\u0434\u0430"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[S.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:j,children:Object(g.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(g.jsx)(Ke,{fields:[{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I})},1)}):Object(g.jsx)(Ke,{fields:[{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I}),Object(g.jsx)(i.b,{to:"city-edit",children:Object(g.jsx)(E.a,{type:"primary",className:"addEntityButton",onClick:function(){T(re("create")),T(ce(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"})}),Object(g.jsx)("div",{className:"citiesTable",style:d.length?{height:"60%"}:{height:"85%"},children:Object(g.jsx)(fe.a,{bordered:!0,columns:Ye,dataSource:x,loading:n,rowKey:function(e){return e.id},pagination:{total:y,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0433\u043e\u0440\u043e\u0434\u043e\u0432")}}})})]})]})}),Qe=(n(303),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),p=O[0],m=O[1],h=Object(s.c)((function(e){return e.points})),x=h.points,y=h.totalCount,T=Object(s.b)(),S=Object(v.a)(),I=function(e){m(e)};return Object(a.useEffect)(Object(A.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,T(qe(p));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[p]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u041f\u0443\u043d\u043a\u0442\u044b"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[S.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:j,children:Object(g.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(g.jsx)(Ke,{fields:[{idName:"cityId",name:"\u0413\u043e\u0440\u043e\u0434"},{idName:"address",name:"\u0410\u0434\u0440\u0435\u0441"},{idName:"name",name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I})},1)}):Object(g.jsx)(Ke,{fields:[{idName:"cityId",name:"\u0413\u043e\u0440\u043e\u0434"},{idName:"address",name:"\u0410\u0434\u0440\u0435\u0441"},{idName:"name",name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I}),Object(g.jsx)(i.b,{to:"point-edit",children:Object(g.jsx)(E.a,{type:"primary",className:"addEntityButton",onClick:function(){T(He("create")),T(ze(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442"})}),Object(g.jsx)("div",{className:"pointsTable",style:d.length?{height:"55%"}:{height:"85%"},children:Object(g.jsx)(fe.a,{bordered:!0,columns:Ge,dataSource:x,loading:n,rowKey:function(e){return e.id},pagination:{total:y,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u043f\u0443\u043d\u043a\u0442\u043e\u0432")}}})})]})]})}),We=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1];return Object(g.jsxs)(u.a,{children:[Object(g.jsx)(he,{setVisible:o}),Object(g.jsxs)(u.a,{children:[Object(g.jsx)(d.a,{title:"\u041c\u0435\u043d\u044e",placement:"left",onClose:function(){o(!1)},visible:s,children:Object(g.jsxs)(j.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},onSelect:function(e){c(Number(e.key)),o(!1)},children:[Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(b.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},"1"),Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(O.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0430\u0432\u0442\u043e"},"2"),Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(p.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"},"3"),Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(m.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0443\u043d\u043a\u0442\u043e\u0432"},"4")]})}),Object(g.jsxs)(u.a,{className:"adminPageContainer",children:[1===n&&Object(g.jsx)(se,{}),2===n&&Object(g.jsx)(Je,{}),3===n&&Object(g.jsx)(Xe,{}),4===n&&Object(g.jsx)(Qe,{})]})]})]})},Ze=(n(304),n(318)),$e=n(333),et=n(334),tt="0123456789abcdefghijklmnopqrstuvwxyz",nt=F.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:function(){for(var e="";e.length<7;)e+=tt[Math.floor(Math.random()*tt.length)];return"Basic ".concat(window.btoa("".concat(e,":").concat("4cbcea96de")))}()}}),at=function(e,t){var n={username:e,password:t};return nt.post("auth/login",n)},ct=function(e){return{type:"AUTH/SET_AUTH_DATA",payload:e}},rt=function(e){return{type:"AUTH/SET_AUTH_STATUS",payload:e}},it=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth.authStatus}));return Object(g.jsx)("div",{className:"loginContainer",children:Object(g.jsxs)("div",{className:"loginContent",children:[Object(g.jsxs)(ye.b,{className:"loginHeader",size:"middle",children:[Object(g.jsx)("img",{className:"logo",src:pe,alt:"logo"}),Object(g.jsx)("p",{className:"company",children:"Need For Drive"})]}),Object(g.jsxs)("div",{className:"loginCard",children:[Object(g.jsx)("p",{className:"loginTitle",children:"\u0412\u0445\u043e\u0434"}),Object(g.jsxs)(C.a,{name:"loginForm",onFinish:function(t){var n,a;e((n=t.username,a=t.password,function(){var e=Object(A.a)(_.a.mark((function e(t){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at(n,a);case 3:c=e.sent,sessionStorage.setItem("access_token",c.data.access_token),sessionStorage.setItem("refresh_token",c.data.refresh_token),t(ct(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(rt(e.t0.response.status));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{remember:!0},children:[Object(g.jsx)(C.a.Item,{className:"formItem",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}],validateStatus:401===t?"error":null,children:Object(g.jsx)(Ze.a,{prefix:Object(g.jsx)($e.a,{}),placeholder:"Username",allowClear:!0})}),Object(g.jsx)(C.a.Item,{className:"formItem",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],validateStatus:401===t?"error":null,help:401===t?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":null,children:Object(g.jsx)(Ze.a,{prefix:Object(g.jsx)(et.a,{}),type:"password",placeholder:"Password",allowClear:!0})}),Object(g.jsxs)("div",{className:"loginCardFooter",children:[Object(g.jsx)("a",{children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",className:"submitButton",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})},st=function(e){var t=e.path,n=e.redirect,a=e.isAuth,c=e.children;return Object(g.jsx)(o.b,{path:t,render:function(){return a?c:Object(g.jsx)(o.a,{to:n})}})},ot=n(315),lt=(n(305),n(336)),ut=n.p+"static/media/blankCar.55f3fbcd.png",dt=n(189),jt=n(188),bt=n(313),Ot=n(108),pt=n(335),mt=function(e){var t,n=e.image,c=e.carToEdit,r=Object(a.useState)((null===c||void 0===c?void 0:c.colors.map((function(e,t){return{id:e+t,value:e}})))||[]),o=Object(l.a)(r,2),u=o[0],d=o[1],j=Object(s.c)((function(e){return e.cars})),b=j.categories,O=j.carAction,p=j.carSuccess,m=b.map((function(e){return{value:e.name}})),h=Object(s.b)(),f=Object(a.useRef)(),x=function(){var e=Object(A.a)(_.a.mark((function e(t){var a,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null,r=0;case 2:if(!(r<b.length)){e.next=9;break}if(b[r].name!==t.categoryId){e.next=6;break}return a=b[r].id,e.abrupt("break",9);case 6:r+=1,e.next=2;break;case 9:i={priceMin:Number(t.priceMin),priceMax:Number(t.priceMax),name:t.name,number:t.number,description:t.description,categoryId:a,colors:t.colorsList,thumbnail:n},e.t0=O,e.next="create"===e.t0?13:"update"===e.t0?15:17;break;case 13:return h(Re(i)),e.abrupt("break",18);case 15:return h(Fe(c.id,i)),e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h(function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:n=e.sent,t(Ce(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),p&&"update"===O?jt.b.success("\u0423\u0441\u043f\u0435\u0445! \u041c\u0430\u0448\u0438\u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d\u0430"):p&&"create"===O&&jt.b.success("\u0423\u0441\u043f\u0435\u0445! \u041c\u0430\u0448\u0438\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"),Object(g.jsxs)(C.a,{name:"editCar",labelCol:{span:6},initialValues:{priceMin:(null===c||void 0===c?void 0:c.priceMin)||null,priceMax:(null===c||void 0===c?void 0:c.priceMax)||null,name:(null===c||void 0===c?void 0:c.name)||null,number:(null===c||void 0===c?void 0:c.number)||null,description:(null===c||void 0===c?void 0:c.description)||null,categoryId:(null===c||void 0===c||null===(t=c.categoryId)||void 0===t?void 0:t.name)||null},onFinish:x,children:[Object(g.jsx)(C.a.Item,{label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",name:"priceMin",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043c\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e"}],children:Object(g.jsx)(Ze.a,{placeholder:"0"})}),Object(g.jsx)(C.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",name:"priceMax",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043c\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e"}],children:Object(g.jsx)(Ze.a,{placeholder:"0"})}),Object(g.jsx)(C.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e"}],children:Object(g.jsx)(Ze.a,{placeholder:"Ford Focus"})}),Object(g.jsx)(C.a.Item,{label:"\u041d\u043e\u043c\u0435\u0440",name:"number",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"}],children:Object(g.jsx)(Ze.a,{placeholder:"A000AA"})}),Object(g.jsx)(C.a.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",children:Object(g.jsx)(Ze.a.TextArea,{showCount:!0,maxLength:200,autoSize:!0,placeholder:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c-\u043a\u043b\u0430\u0441\u0441"})}),Object(g.jsx)(C.a.Item,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",name:"categoryId",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}],children:Object(g.jsx)(bt.a,{style:{width:200},options:m,allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(g.jsx)(C.a.Item,{className:"carColorItem",label:"\u0426\u0432\u0435\u0442\u0430",children:Object(g.jsx)(C.a.List,{name:"colors",children:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(Ze.a,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0446\u0432\u0435\u0442",allowClear:!0,ref:f,className:"carColorInput"})}),Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"dashed",className:"carColorAddButton",onClick:function(){d([].concat(Object(dt.a)(u),[{id:u.length,value:f.current.state.value}])),f.current.state.value=""},block:!0,children:Object(g.jsx)(pt.a,{})})})]})}})}),Object(g.jsx)(C.a.Item,{name:"colorsList",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442\u0430",children:Object(g.jsx)(Ot.a.Group,{className:"colorsList",children:u.map((function(e){return Object(g.jsx)(Ot.a,{value:e.value,children:e.value},e.id)}))})}),Object(g.jsxs)("div",{className:"formButtons",children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(g.jsx)(i.b,{to:"/admin",children:p?Object(g.jsx)(E.a,{className:"cancelButton",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}):Object(g.jsx)(E.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},ht=function(){var e,t,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(s.c)((function(e){return e.cars.carToEdit}));return Object(g.jsxs)(u.a,{className:"editingContainer",children:[Object(g.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(g.jsxs)(oe.a,{align:"top",children:[Object(g.jsxs)("div",{className:"editingContent editingOne",children:[Object(g.jsx)("img",{className:"cardImage",src:(null===o||void 0===o||null===(e=o.thumbnail)||void 0===e?void 0:e.path)||ut,alt:"carImage"}),Object(g.jsx)("p",{className:"carName",children:(null===o||void 0===o?void 0:o.name)||"\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e"}),Object(g.jsx)("p",{className:"carCategory",children:(null===o||void 0===o||null===(t=o.categoryId)||void 0===t?void 0:t.name)||"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(g.jsx)(ot.a,{name:"file",beforeUpload:function(e){var t=new FileReader;return t.readAsDataURL(e),t.onload=function(){var n={mimetype:e.type,originalname:e.name,path:t.result,size:e.size};i(n)},!1},children:Object(g.jsx)(E.a,{icon:Object(g.jsx)(lt.a,{}),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b..."})})]}),Object(g.jsxs)("div",{className:"editingContent editingTwo",children:[Object(g.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(g.jsx)(mt,{image:r,carToEdit:o})]})]})]})},ft=function(e){var t=e.cityToEdit,n=Object(s.c)((function(e){return e.cities})),a=n.cityAction,c=n.citySuccess,r=Object(s.b)();return c&&"update"===a?jt.b.success("\u0423\u0441\u043f\u0435\u0445! \u0413\u043e\u0440\u043e\u0434 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d"):c&&"create"===a&&jt.b.success("\u0423\u0441\u043f\u0435\u0445! \u0413\u043e\u0440\u043e\u0434 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),Object(g.jsxs)(C.a,{name:"editCity",labelCol:{span:5},initialValues:{name:(null===t||void 0===t?void 0:t.name)||null},onFinish:function(e){switch(a){case"create":r((n=e,function(){var e=Object(A.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(n);case 2:200===e.sent.status?t(ne(!0)):t(ne(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));break;case"update":r(function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(a){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V(e,t);case 2:200===n.sent.status?a(ne(!0)):a(ne(!1));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,e))}var n},children:[Object(g.jsx)(C.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}],children:Object(g.jsx)(Ze.a,{placeholder:"\u041c\u043e\u0441\u043a\u0432\u0430..."})}),Object(g.jsxs)("div",{className:"formButtons cityFormButtons",children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(g.jsx)(i.b,{to:"/admin",children:c?Object(g.jsx)(E.a,{className:"cancelButton",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}):Object(g.jsx)(E.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},xt=(n(306),function(){var e=Object(s.c)((function(e){return e.cities.cityToEdit}));return Object(g.jsxs)(u.a,{className:"editingContainer",children:[Object(g.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(g.jsxs)("div",{className:"editingContent cityEditContent",children:[Object(g.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(g.jsx)(ft,{cityToEdit:e})]})]})}),vt=function(e){var t,n=e.pointToEdit,c=Object(s.c)((function(e){return e.points})),r=c.pointAction,o=c.pointSuccess,l=Object(s.c)((function(e){return e.cities.cities})),u=l.map((function(e){return{value:e.name}})),d=Object(s.b)();return Object(a.useEffect)((function(){d(ae())}),[]),o&&"update"===r?jt.b.success("\u0423\u0441\u043f\u0435\u0445! \u041f\u0443\u043d\u043a\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d"):o&&"create"===r&&jt.b.success("\u0423\u0441\u043f\u0435\u0445! \u041f\u0443\u043d\u043a\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),Object(g.jsxs)(C.a,{name:"editPoint",labelCol:{span:4},initialValues:{name:(null===n||void 0===n?void 0:n.name)||null,address:(null===n||void 0===n?void 0:n.address)||null,cityId:(null===n||void 0===n||null===(t=n.cityId)||void 0===t?void 0:t.name)||null},onFinish:function(e){for(var t,a=null,c=0;c<l.length;c+=1)if(l[c].name===e.cityId){a=l[c].id;break}switch(r){case"create":d((t=Object(h.a)(Object(h.a)({},e),{},{cityId:a}),function(){var e=Object(A.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:200===e.sent.status?n(Me(!0)):n(Me(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));break;case"update":d(function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(a){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K(e,t);case 2:200===n.sent.status?a(Me(!0)):a(Me(!1));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n.id,Object(h.a)(Object(h.a)({},e),{},{cityId:a})))}},children:[Object(g.jsx)(C.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0443\u043d\u043a\u0442\u0430"}],children:Object(g.jsx)(Ze.a,{placeholder:"\u041f\u0443\u043d\u043a\u0442..."})}),Object(g.jsx)(C.a.Item,{label:"\u0410\u0434\u0440\u0435\u0441",name:"address",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u0443\u043d\u043a\u0442\u0430"}],children:Object(g.jsx)(Ze.a,{placeholder:"\u0443\u043b. \u0421\u0442\u0430\u0445\u0430\u043d\u043e\u0432\u0441\u043a\u0430\u044f, 29/1"})}),Object(g.jsx)(C.a.Item,{label:"\u0413\u043e\u0440\u043e\u0434",name:"cityId",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"}],children:Object(g.jsx)(bt.a,{style:{width:200},options:u,allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(g.jsxs)("div",{className:"formButtons pointFormButtons",children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(g.jsx)(i.b,{to:"/admin",children:o?Object(g.jsx)(E.a,{className:"cancelButton",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}):Object(g.jsx)(E.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},yt=(n(307),function(){var e=Object(s.c)((function(e){return e.points.pointToEdit}));return Object(g.jsxs)(u.a,{className:"editingContainer",children:[Object(g.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(g.jsxs)("div",{className:"editingContent pointEditContent",children:[Object(g.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(g.jsx)(vt,{pointToEdit:e})]})]})}),Tt=function(){var e=Object(s.c)((function(e){return e.auth.isAuth}));return Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(o.a,{to:"/admin"})}}),Object(g.jsx)(st,{path:"/admin",redirect:"/login",isAuth:e,children:Object(g.jsx)(We,{})}),Object(g.jsx)(st,{path:"/login",redirect:"/admin",isAuth:!e,children:Object(g.jsx)(it,{})}),Object(g.jsx)(st,{path:"/car-edit",redirect:"/login",isAuth:e,children:Object(g.jsx)(ht,{})}),Object(g.jsx)(st,{path:"/city-edit",redirect:"/login",isAuth:e,children:Object(g.jsx)(xt,{})}),Object(g.jsx)(st,{path:"/point-edit",redirect:"/login",isAuth:e,children:Object(g.jsx)(yt,{})})]})},gt=n(147),St=n(184),It={isAuth:!1,authStatus:null},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_DATA":return Object(h.a)(Object(h.a)({},e),{},{isAuth:!0});case"AUTH/SET_AUTH_STATUS":return Object(h.a)(Object(h.a)({},e),{},{authStatus:t.payload});default:return e}},Nt={orders:[],totalCount:null,orderStatus:[]},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS/SET_ORDERS_PORTION":return Object(h.a)(Object(h.a)({},e),{},{orders:t.payload});case"ORDERS/ORDERS_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"ORDERS/SET_ORDER_STATUS":return Object(h.a)(Object(h.a)({},e),{},{orderStatus:t.payload});default:return e}},wt={cars:[],carToEdit:null,currentPage:1,totalCount:null,categories:[],carAction:null,carSuccess:!1},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS/SET_CARS_PORTION":return Object(h.a)(Object(h.a)({},e),{},{cars:t.payload});case"CARS/CARS_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"CARS/SET_CAR_TO_EDIT":return Object(h.a)(Object(h.a)({},e),{},{carToEdit:t.payload});case"CARS/SET_CATEGORIES":return Object(h.a)(Object(h.a)({},e),{},{categories:t.payload});case"CARS/SET_CAR_ACTION":return Object(h.a)(Object(h.a)({},e),{},{carAction:t.payload});case"CARS/SET_CAR_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{carSuccess:t.payload});case"CARS/SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.payload});default:return e}},At={cities:[],totalCount:null,cityAction:null,cityToEdit:null,citySuccess:!1},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITIES/SET_CITIES_PORTION":return Object(h.a)(Object(h.a)({},e),{},{cities:t.payload});case"CITIES/CITIES_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"CITIES/SET_CITY_TO_EDIT":return Object(h.a)(Object(h.a)({},e),{},{cityToEdit:t.payload});case"CITIES/SET_CITY_ACTION":return Object(h.a)(Object(h.a)({},e),{},{cityAction:t.payload});case"CITIES/SET_CITY_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{citySuccess:t.payload});default:return e}},Ft={points:[],totalCount:null,pointToEdit:null,pointAction:null,pointSuccess:!1},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POINTS/SET_POINTS_PORTION":return Object(h.a)(Object(h.a)({},e),{},{points:t.payload});case"POINTS/POINTS_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"POINTS/SET_POINT_TO_EDIT":return Object(h.a)(Object(h.a)({},e),{},{pointToEdit:t.payload});case"POINTS/SET_POINT_ACTION":return Object(h.a)(Object(h.a)({},e),{},{pointAction:t.payload});case"POINTS/SET_POINT_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{pointSuccess:t.payload});default:return e}},Pt=Object(gt.b)({auth:Ct,orders:Et,cars:_t,cities:kt,points:Rt}),Ut=Object(gt.c)(Pt,Object(gt.a)(St.a)),Dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,337)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};r.a.render(Object(g.jsx)(s.a,{store:Ut,children:Object(g.jsx)(i.a,{children:Object(g.jsx)(Tt,{})})}),document.getElementById("root")),Dt()}},[[308,1,2]]]);
//# sourceMappingURL=main.a047673f.chunk.js.map