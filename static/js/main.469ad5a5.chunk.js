(this.webpackJsonpneedfordriveadmin=this.webpackJsonpneedfordriveadmin||[]).push([[0],{182:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},207:function(e,t,n){},277:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(44),r=n.n(c),i=(n(182),n(32)),o=n(21),s=(n(187),n(30)),l=n(40),u=n(291),d=n(292),j=n(293),b=n(301),O=n(300),p=n(79),m=n(305),h=n(306),f=n(307),x=n(308),v=n(309),T=(n(188),n(52)),y=n.p+"static/media/Logo Icon.830257bf.svg",g=n.p+"static/media/avatar.8845cada.png",I=n(169),C=(n(189),n(22)),N=n.n(C),S=n(29),E=n(18),_=n(109),A=n.n(_),w=A.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return w.get("db/order?page=".concat(e,"&limit=").concat(t))},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return w.get("db/car?page=".concat(e,"&limit=").concat(t))},P=function(){return w.get("db/category").then((function(e){return e.data.data}))},F=function(){return w.get("db/city")},U=function(){return w.get("db/point")},L=function(e){return{type:"ORDERS/SET_ORDERS_PORTION",payload:e}},B=function(e){return{type:"ORDERS/ORDERS_TOTAL_COUNT",payload:e}},D={orders:[],totalCount:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS/SET_ORDERS_PORTION":return Object(E.a)(Object(E.a)({},e),{},{orders:t.payload});case"ORDERS/ORDERS_TOTAL_COUNT":return Object(E.a)(Object(E.a)({},e),{},{totalCount:t.payload});default:return e}},q=(n(207),n(303)),H=n(304),z=n(6),K=function(e,t){return e?Object(z.jsxs)("div",{className:"orderCarOption",children:[Object(z.jsx)(q.a,{className:"isCarOption"}),Object(z.jsx)("p",{children:t})]}):Object(z.jsxs)("div",{className:"orderCarOption",children:[Object(z.jsx)(H.a,{className:"isNotCarOption"}),Object(z.jsx)("p",{className:"isNotCarOptionText",children:t})]})},V=function(e){var t,n,a,c,r=e.order,i=new Date(null===r||void 0===r?void 0:r.dateFrom),o=new Date(null===r||void 0===r?void 0:r.dateTo);return Object(z.jsxs)("div",{className:"orderContent",children:[Object(z.jsx)("div",{className:"orderImageBlock",children:Object(z.jsx)("img",{src:null===r||void 0===r||null===(t=r.carId)||void 0===t?void 0:t.thumbnail.path,alt:"carImage",className:"orderCarImage"})}),Object(z.jsxs)("div",{className:"orderInfoBlock",children:[Object(z.jsxs)("p",{children:[Object(z.jsx)("span",{children:null===r||void 0===r||null===(n=r.carId)||void 0===n?void 0:n.name})," \u0432 ",Object(z.jsx)("span",{children:null===r||void 0===r||null===(a=r.cityId)||void 0===a?void 0:a.name}),", ",null===r||void 0===r||null===(c=r.pointId)||void 0===c?void 0:c.address]}),Object(z.jsxs)("p",{children:[i.toLocaleString()," \u2014 ",o.toLocaleString()]}),Object(z.jsxs)("p",{children:["\u0426\u0432\u0435\u0442: ",Object(z.jsx)("span",{children:null===r||void 0===r?void 0:r.color})]})]}),Object(z.jsxs)("div",{className:"orderOptionsBlock",children:[K(null===r||void 0===r?void 0:r.isFullTank,"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"),K(null===r||void 0===r?void 0:r.isNeedChildChair,"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"),K(null===r||void 0===r?void 0:r.isRightWheel,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c")]}),Object(z.jsx)("div",{className:"orderPriceBlock",children:Object(z.jsxs)("p",{className:"orderPrice",children:[null===r||void 0===r?void 0:r.price," \u20bd"]})})]})},Y=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.b)(),i=Object(o.c)((function(e){return e.orders})),s=i.orders,d=i.totalCount;Object(a.useEffect)((function(){var e;r((e=n,function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:a=t.sent,D.totalCount||n(B(a.data.count)),n(L(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[n]);var j=Object(T.a)();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{className:"pageTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(z.jsxs)(u.a.Content,{className:"ordersListContent",children:[Object(z.jsx)("div",{className:"ordersList",children:s.map((function(e){return Object(z.jsx)(V,{order:e},e.id)}))}),Object(z.jsx)(I.a,{total:d,pageSize:20,current:n,showQuickJumper:!0,showSizeChanger:!1,showTotal:function(e){return"\u0412\u0441\u0435\u0433\u043e ".concat(e," \u0437\u0430\u043a\u0430\u0437\u043e\u0432")},onChange:function(e){c(e)},simple:j.xs,size:j.lg?"default":"small"})]})]})},G=n(50),J=n(295),X=function(e){return{type:"CARS/SET_CARS_PORTION",payload:e}},Q=function(e){return{type:"CARS/CARS_TOTAL_COUNT",payload:e}},W=function(e){return{type:"CARS/SET_CAR_TO_EDIT",payload:e}},Z=function(e){return{type:"CARS/SET_CATEGORIES",payload:e}},$=function(e){return{type:"CARS/SET_CAR_ACTION",payload:e}},ee={cars:[],carToEdit:null,totalCount:null,categories:[],carAction:null},te=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:a=t.sent,ee.totalCount||n(Q(a.data.count)),n(X(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(W(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ae=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n($(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS/SET_CARS_PORTION":return Object(E.a)(Object(E.a)({},e),{},{cars:t.payload});case"CARS/CARS_TOTAL_COUNT":return Object(E.a)(Object(E.a)({},e),{},{totalCount:t.payload});case"CARS/SET_CAR_TO_EDIT":return Object(E.a)(Object(E.a)({},e),{},{carToEdit:t.payload});case"CARS/SET_CATEGORIES":return Object(E.a)(Object(E.a)({},e),{},{categories:t.payload});case"CARS/SET_CAR_ACTION":return Object(E.a)(Object(E.a)({},e),{},{carAction:t.payload});default:return e}},re=n(298),ie=function(e){return{type:"CITIES/SET_CITIES_PORTION",payload:e}},oe=function(e){return{type:"CITIES/CITIES_TOTAL_COUNT",payload:e}},se=function(e){return{type:"CITIES/SET_CITY_TO_EDIT",payload:e}},le=function(e){return{type:"CITIES/SET_CITY_ACTION",payload:e}},ue={cities:[],totalCount:null,cityAction:null,cityToEdit:null},de=function(){return function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:n=e.sent,ue.totalCount||t(oe(n.data.count)),t(ie(n.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(se(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(le(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITIES/SET_CITIES_PORTION":return Object(E.a)(Object(E.a)({},e),{},{cities:t.payload});case"CITIES/CITIES_TOTAL_COUNT":return Object(E.a)(Object(E.a)({},e),{},{totalCount:t.payload});case"CITIES/SET_CITY_TO_EDIT":return Object(E.a)(Object(E.a)({},e),{},{cityToEdit:t.payload});case"CITIES/SET_CITY_ACTION":return Object(E.a)(Object(E.a)({},e),{},{cityAction:t.payload});default:return e}},pe=function(e){return{type:"POINTS/SET_POINTS_PORTION",payload:e}},me=function(e){return{type:"POINTS/POINTS_TOTAL_COUNT",payload:e}},he=function(e){return{type:"POINTS/SET_POINT_TO_EDIT",payload:e}},fe=function(e){return{type:"POINTS/SET_POINT_ACTION",payload:e}},xe={points:[],totalCount:null,pointToEdit:null,pointAction:null},ve=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(he(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(fe(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POINTS/SET_POINTS_PORTION":return Object(E.a)(Object(E.a)({},e),{},{points:t.payload});case"POINTS/POINTS_TOTAL_COUNT":return Object(E.a)(Object(E.a)({},e),{},{totalCount:t.payload});case"POINTS/SET_POINT_TO_EDIT":return Object(E.a)(Object(E.a)({},e),{},{pointToEdit:t.payload});case"POINTS/SET_POINT_ACTION":return Object(E.a)(Object(E.a)({},e),{},{pointAction:t.payload});default:return e}},ge=[{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",dataIndex:"categoryId",key:"categoryId",render:function(e){return"".concat(null===e||void 0===e?void 0:e.name)}},{title:"\u0426\u0432\u0435\u0442\u0430",dataIndex:"colors",key:"colors",render:function(e){return e.map((function(t,n){return"".concat(t.toUpperCase()," ").concat(n!==e.length-1?", ":"")}))}},{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e",key:"number",dataIndex:"number"},{title:"\u0426\u0435\u043d\u0430",key:"priceMin",dataIndex:"priceMin"},{title:"\u0424\u043e\u0442\u043e",key:"thumbnail",dataIndex:"thumbnail",render:function(e){return Object(z.jsx)(re.a,{src:null===e||void 0===e?void 0:e.path,alt:"carImage",preview:!1,width:100})}},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(o.b)();return Object(z.jsx)(i.b,{to:"car-edit",onClick:function(){t(ae("update")),t(ne(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],Ie=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(o.b)();return Object(z.jsx)(i.b,{to:"city-edit",onClick:function(){t(be("update")),t(je(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],Ce=[{title:"\u0413\u043e\u0440\u043e\u0434",dataIndex:"cityId",key:"cityId",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u0410\u0434\u0440\u0435\u0441",dataIndex:"address",key:"address"},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(o.b)();return Object(z.jsx)(i.b,{to:"point-edit",onClick:function(){t(Te("update")),t(ve(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],Ne=(n(277),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),s=Object(l.a)(r,2),d=s[0],j=s[1],b=Object(o.c)((function(e){return e.cars})),O=b.cars,p=b.totalCount,m=Object(o.b)();return Object(a.useEffect)(Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,m(te(d));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[d]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{className:"pageTitle",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"}),Object(z.jsxs)(u.a.Content,{className:"ordersListContent",children:[Object(z.jsx)(i.b,{to:"car-edit",children:Object(z.jsx)(G.a,{type:"primary",className:"addEntityButton",onClick:function(){m(ae("create")),m(ne(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e"})}),Object(z.jsx)("div",{className:"entityTable",children:Object(z.jsx)(J.a,{bordered:!0,columns:ge,dataSource:O,loading:n,rowKey:function(e){return e.id},pagination:{total:p-10,pageSize:10,current:d,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0430\u0432\u0442\u043e")},onChange:function(e){j(e)}}})})]})]})}),Se=(n(283),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.cities})),s=r.cities,d=r.totalCount,j=Object(o.b)();return Object(a.useEffect)(Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,j(de());case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{className:"pageTitle",children:"\u0413\u043e\u0440\u043e\u0434\u0430"}),Object(z.jsxs)(u.a.Content,{className:"ordersListContent",children:[Object(z.jsx)(i.b,{to:"city-edit",children:Object(z.jsx)(G.a,{type:"primary",className:"addEntityButton",onClick:function(){j(be("create")),j(je(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"})}),Object(z.jsx)(J.a,{className:"cityTable",bordered:!0,columns:Ie,dataSource:s,loading:n,rowKey:function(e){return e.id},pagination:{total:d,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0433\u043e\u0440\u043e\u0434\u043e\u0432")}}})]})]})}),Ee=(n(284),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.points})),s=r.points,d=r.totalCount,j=Object(o.b)();return Object(a.useEffect)(Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,j(function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n=e.sent,xe.totalCount||t(me(n.data.count)),t(pe(n.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h1",{className:"pageTitle",children:"\u041f\u0443\u043d\u043a\u0442\u044b"}),Object(z.jsxs)(u.a.Content,{className:"ordersListContent",children:[Object(z.jsx)(i.b,{to:"point-edit",children:Object(z.jsx)(G.a,{type:"primary",className:"addEntityButton",onClick:function(){j(Te("create")),j(ve(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442"})}),Object(z.jsx)(J.a,{className:"pointTable",bordered:!0,columns:Ce,dataSource:s,loading:n,rowKey:function(e){return e.id},pagination:{total:d,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u043f\u0443\u043d\u043a\u0442\u043e\u0432")}}})]})]})}),_e=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(T.a)(),i=0;return r.xs?i=35:r.md&&(i=200),Object(z.jsxs)(u.a,{children:[Object(z.jsxs)(d.a,{className:"adminPageHeader",children:[Object(z.jsxs)(j.a,{xs:{span:13},md:{span:6},lg:{span:5},xl:{span:3},className:"adminPageCompany",children:[Object(z.jsx)("img",{src:y,alt:"logo",className:"logoImg"}),Object(z.jsx)("p",{className:"logoTitle",children:"Need For Drive"})]}),Object(z.jsx)(j.a,{xs:{offset:5,span:3},md:{offset:14,span:2},lg:{offset:15},xl:{offset:19,span:1},className:"adminPageHeaderNotification",children:Object(z.jsx)(b.a,{count:2,size:"small",children:Object(z.jsx)(m.a,{className:"notificationIcon"})})}),Object(z.jsx)(j.a,{xs:{span:3},md:{span:2},xl:{span:1},className:"adminUserAccount",children:Object(z.jsx)(O.a,{src:g})})]}),Object(z.jsxs)(u.a,{children:[Object(z.jsx)(u.a.Sider,{width:i,className:"adminPageSider",children:Object(z.jsxs)(p.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},onSelect:function(e){c(Number(e.key))},children:[Object(z.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(z.jsx)(h.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},"1"),Object(z.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(z.jsx)(f.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0430\u0432\u0442\u043e"},"2"),Object(z.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(z.jsx)(x.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"},"3"),Object(z.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(z.jsx)(v.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0443\u043d\u043a\u0442\u043e\u0432"},"4")]})}),Object(z.jsxs)(u.a,{className:"adminPageContainer",children:[1===n&&Object(z.jsx)(Y,{}),2===n&&Object(z.jsx)(Ne,{}),3===n&&Object(z.jsx)(Se,{}),4===n&&Object(z.jsx)(Ee,{})]})]})]})},Ae=(n(285),n(302)),we=n(296),ke=n(299),Re=n(310),Pe=n(311),Fe="0123456789abcdefghijklmnopqrstuvwxyz",Ue=A.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:function(){for(var e="";e.length<7;)e+=Fe[Math.floor(Math.random()*Fe.length)];return"Basic ".concat(window.btoa("".concat(e,":").concat("4cbcea96de")))}()}}),Le=function(e,t){var n={username:e,password:t};return Ue.post("auth/login",n).catch((function(e){return Object(E.a)(Object(E.a)({},e),{},{status:401})}))},Be=function(e){return{type:"AUTH/SET_AUTH_DATA",payload:e}},De=function(e){return{type:"AUTH/SET_AUTH_STATUS",payload:e}},Me={isAuth:!1,authStatus:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_DATA":return localStorage.setItem("access_token",t.payload.access_token),localStorage.setItem("refresh_token",t.payload.refresh_token),Object(E.a)(Object(E.a)({},e),{},{isAuth:!0});case"AUTH/SET_AUTH_STATUS":return Object(E.a)(Object(E.a)({},e),{},{authStatus:t.payload});default:return e}},He=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth.authStatus}));return Object(z.jsx)("div",{className:"loginContainer",children:Object(z.jsxs)("div",{className:"loginContent",children:[Object(z.jsxs)(Ae.b,{className:"loginHeader",size:"middle",children:[Object(z.jsx)("img",{className:"logo",src:y,alt:"logo"}),Object(z.jsx)("p",{className:"company",children:"Need For Drive"})]}),Object(z.jsxs)("div",{className:"loginCard",children:[Object(z.jsx)("p",{className:"loginTitle",children:"\u0412\u0445\u043e\u0434"}),Object(z.jsxs)(we.a,{name:"loginForm",onFinish:function(t){var n,a;e((n=t.username,a=t.password,function(){var e=Object(S.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(n,a);case 2:200===(c=e.sent).status?t(Be(c.data)):t(De(c.status));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{remember:!0},children:[Object(z.jsx)(we.a.Item,{className:"formItem",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}],validateStatus:401===t?"error":null,children:Object(z.jsx)(ke.a,{prefix:Object(z.jsx)(Re.a,{}),placeholder:"Username",allowClear:!0})}),Object(z.jsx)(we.a.Item,{className:"formItem",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],validateStatus:401===t?"error":null,help:401===t?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":null,children:Object(z.jsx)(ke.a,{prefix:Object(z.jsx)(Pe.a,{}),type:"password",placeholder:"Password",allowClear:!0})}),Object(z.jsxs)("div",{className:"loginCardFooter",children:[Object(z.jsx)("a",{children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(z.jsx)(G.a,{type:"primary",htmlType:"submit",className:"submitButton",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})},ze=n(297),Ke=(n(286),n(313)),Ve=n.p+"static/media/blankCar.55f3fbcd.png",Ye=n(171),Ge=n(294),Je=n(99),Xe=n(312),Qe=function(e){var t,n=e.image,c=e.carToEdit,r=Object(a.useState)((null===c||void 0===c?void 0:c.colors.map((function(e,t){return{id:e+t,value:e}})))||[]),s=Object(l.a)(r,2),u=s[0],d=s[1],j=Object(o.c)((function(e){return e.cars})),b=j.categories,O=j.carAction,p=b.map((function(e){return{value:e.name}})),m=Object(o.b)(),h=Object(a.useRef)();return Object(a.useEffect)((function(){m(function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,t(Z(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(z.jsxs)(we.a,{name:"editCar",labelCol:{span:6},initialValues:{priceMin:(null===c||void 0===c?void 0:c.priceMin)||null,priceMax:(null===c||void 0===c?void 0:c.priceMax)||null,name:(null===c||void 0===c?void 0:c.name)||null,number:(null===c||void 0===c?void 0:c.number)||null,description:(null===c||void 0===c?void 0:c.description)||null,categoryId:(null===c||void 0===c||null===(t=c.categoryId)||void 0===t?void 0:t.name)||null},onFinish:function(e){for(var t=null,a=0;a<b.length;a+=1)if(b[a].name===e.categoryId){t=b[a].id;break}console.log(Object(E.a)(Object(E.a)({},e),{},{image:n,categoryId:t})),console.log(O)},children:[Object(z.jsx)(we.a.Item,{label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",name:"priceMin",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043c\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e"}],children:Object(z.jsx)(ke.a,{placeholder:"0"})}),Object(z.jsx)(we.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",name:"priceMax",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043c\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e"}],children:Object(z.jsx)(ke.a,{placeholder:"0"})}),Object(z.jsx)(we.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e"}],children:Object(z.jsx)(ke.a,{placeholder:"Ford Focus"})}),Object(z.jsx)(we.a.Item,{label:"\u041d\u043e\u043c\u0435\u0440",name:"number",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"}],children:Object(z.jsx)(ke.a,{placeholder:"A000AA"})}),Object(z.jsx)(we.a.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",children:Object(z.jsx)(ke.a.TextArea,{showCount:!0,maxLength:200,autoSize:!0,placeholder:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c-\u043a\u043b\u0430\u0441\u0441"})}),Object(z.jsx)(we.a.Item,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",name:"categoryId",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}],children:Object(z.jsx)(Ge.a,{style:{width:200},options:p,allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(z.jsx)(we.a.Item,{className:"carColorItem",label:"\u0426\u0432\u0435\u0442\u0430",children:Object(z.jsx)(we.a.List,{name:"colors",children:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(we.a.Item,{children:Object(z.jsx)(ke.a,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0446\u0432\u0435\u0442",allowClear:!0,ref:h,className:"carColorInput"})}),Object(z.jsx)(we.a.Item,{children:Object(z.jsx)(G.a,{type:"dashed",className:"carColorAddButton",onClick:function(){d([].concat(Object(Ye.a)(u),[{id:u.length,value:h.current.state.value}])),h.current.state.value=""},block:!0,children:Object(z.jsx)(Xe.a,{})})})]})}})}),Object(z.jsx)(we.a.Item,{name:"colorsList",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442\u0430",children:Object(z.jsx)(Je.a.Group,{className:"colorsList",children:u.map((function(e){return Object(z.jsx)(Je.a,{value:e.value,children:e.value},e.id)}))})}),Object(z.jsxs)("div",{className:"formButtons",children:[Object(z.jsx)(we.a.Item,{children:Object(z.jsx)(G.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(z.jsx)(i.b,{to:"/admin",children:Object(z.jsx)(G.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},We=function(){var e,t,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(o.c)((function(e){return e.cars.carToEdit}));return Object(z.jsxs)(u.a,{className:"editingContainer",children:[Object(z.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(z.jsxs)(d.a,{align:"top",children:[Object(z.jsxs)("div",{className:"editingContent editingOne",children:[Object(z.jsx)("img",{className:"cardImage",src:(null===s||void 0===s||null===(e=s.thumbnail)||void 0===e?void 0:e.path)||Ve,alt:"carImage"}),Object(z.jsx)("p",{className:"carName",children:(null===s||void 0===s?void 0:s.name)||"\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e"}),Object(z.jsx)("p",{className:"carCategory",children:(null===s||void 0===s||null===(t=s.categoryId)||void 0===t?void 0:t.name)||"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(z.jsx)(ze.a,{name:"file",beforeUpload:function(e){return i(e),!1},children:Object(z.jsx)(G.a,{icon:Object(z.jsx)(Ke.a,{}),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b..."})})]}),Object(z.jsxs)("div",{className:"editingContent editingTwo",children:[Object(z.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(z.jsx)(Qe,{image:r,carToEdit:s})]})]})]})},Ze=function(e){var t=e.cityToEdit,n=Object(o.c)((function(e){return e.cities.cityAction}));return Object(z.jsxs)(we.a,{name:"editCity",labelCol:{span:5},initialValues:{name:(null===t||void 0===t?void 0:t.name)||null},onFinish:function(e){console.log(e),console.log(n)},children:[Object(z.jsx)(we.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}],children:Object(z.jsx)(ke.a,{placeholder:"\u041c\u043e\u0441\u043a\u0432\u0430..."})}),Object(z.jsxs)("div",{className:"formButtons cityFormButtons",children:[Object(z.jsx)(we.a.Item,{children:Object(z.jsx)(G.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(z.jsx)(i.b,{to:"/admin",children:Object(z.jsx)(G.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},$e=(n(287),function(){var e=Object(o.c)((function(e){return e.cities.cityToEdit}));return Object(z.jsxs)(u.a,{className:"editingContainer",children:[Object(z.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(z.jsxs)("div",{className:"editingContent cityEditContent",children:[Object(z.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(z.jsx)(Ze,{cityToEdit:e})]})]})}),et=function(e){var t,n=e.pointToEdit,c=Object(o.c)((function(e){return e.points.pointAction})),r=Object(o.c)((function(e){return e.cities.cities})),s=r.map((function(e){return{value:e.name}})),l=Object(o.b)();return Object(a.useEffect)((function(){l(de())}),[]),Object(z.jsxs)(we.a,{name:"editPoint",labelCol:{span:4},initialValues:{name:(null===n||void 0===n?void 0:n.name)||null,address:(null===n||void 0===n?void 0:n.address)||null,cityId:(null===n||void 0===n||null===(t=n.cityId)||void 0===t?void 0:t.name)||null},onFinish:function(e){for(var t=null,n=0;n<r.length;n+=1)if(r[n].name===e.cityId){t=r[n].id;break}console.log(Object(E.a)(Object(E.a)({},e),{},{cityId:t})),console.log(c)},children:[Object(z.jsx)(we.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0443\u043d\u043a\u0442\u0430"}],children:Object(z.jsx)(ke.a,{placeholder:"\u041f\u0443\u043d\u043a\u0442..."})}),Object(z.jsx)(we.a.Item,{label:"\u0410\u0434\u0440\u0435\u0441",name:"address",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u0443\u043d\u043a\u0442\u0430"}],children:Object(z.jsx)(ke.a,{placeholder:"\u0443\u043b. \u0421\u0442\u0430\u0445\u0430\u043d\u043e\u0432\u0441\u043a\u0430\u044f, 29/1"})}),Object(z.jsx)(we.a.Item,{label:"\u0413\u043e\u0440\u043e\u0434",name:"cityId",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"}],children:Object(z.jsx)(Ge.a,{style:{width:200},options:s,allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(z.jsxs)("div",{className:"formButtons pointFormButtons",children:[Object(z.jsx)(we.a.Item,{children:Object(z.jsx)(G.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(z.jsx)(i.b,{to:"/admin",children:Object(z.jsx)(G.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},tt=(n(288),function(){var e=Object(o.c)((function(e){return e.points.pointToEdit}));return Object(z.jsxs)(u.a,{className:"editingContainer",children:[Object(z.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(z.jsxs)("div",{className:"editingContent pointEditContent",children:[Object(z.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(z.jsx)(et,{pointToEdit:e})]})]})}),nt=function(){var e=Object(o.c)((function(e){return e.auth.isAuth}));return Object(z.jsxs)(s.d,{children:[Object(z.jsx)(s.b,{exact:!0,path:"/",render:function(){return Object(z.jsx)(s.a,{to:"/admin"})}}),Object(z.jsx)(s.b,{path:"/admin",render:function(){return e?Object(z.jsx)(_e,{}):Object(z.jsx)(s.a,{to:"/login"})}}),Object(z.jsx)(s.b,{path:"/login",render:function(){return e?Object(z.jsx)(s.a,{to:"/admin"}):Object(z.jsx)(He,{})}}),Object(z.jsx)(s.b,{path:"/car-edit",render:function(){return e?Object(z.jsx)(We,{}):Object(z.jsx)(s.a,{to:"/login"})}}),Object(z.jsx)(s.b,{path:"/city-edit",render:function(){return e?Object(z.jsx)($e,{}):Object(z.jsx)(s.a,{to:"/login"})}}),Object(z.jsx)(s.b,{path:"/point-edit",render:function(){return e?Object(z.jsx)(tt,{}):Object(z.jsx)(s.a,{to:"/login"})}})]})},at=n(130),ct=n(167),rt=Object(at.b)({auth:qe,orders:M,cars:ce,cities:Oe,points:ye}),it=Object(at.c)(rt,Object(at.a)(ct.a)),ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,314)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};r.a.render(Object(z.jsx)(o.a,{store:it,children:Object(z.jsx)(i.a,{children:Object(z.jsx)(nt,{})})}),document.getElementById("root")),ot()}},[[289,1,2]]]);
//# sourceMappingURL=main.469ad5a5.chunk.js.map