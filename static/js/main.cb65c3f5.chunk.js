(this.webpackJsonpneedfordriveadmin=this.webpackJsonpneedfordriveadmin||[]).push([[0],{173:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},198:function(e,t,n){},267:function(e,t,n){},273:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(41),r=n.n(c),s=(n(173),n(127)),o=n(28),i=(n(178),n(25)),l=n(47),d=n(277),u=n(278),j=n(279),O=n(285),b=n(284),p=n(71),m=n(289),h=n(290),f=n(291),x=n(292),v=n(293),g=(n(179),n(49)),T=n.p+"static/media/Logo Icon.830257bf.svg",y=n.p+"static/media/avatar.8845cada.png",I=n(160),N=(n(180),n(24)),C=n.n(N),S=n(33),w=n(23),_=n(100),A=n.n(_),R=A.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return R.get("db/order?page=".concat(e,"&limit=").concat(t))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return R.get("db/car?page=".concat(e,"&limit=").concat(t))},P=function(){return R.get("db/city")},U=function(){return R.get("db/point")},L=function(e){return{type:"ORDERS/SET_ORDERS_PORTION",payload:e}},F=function(e){return{type:"ORDERS/ORDERS_TOTAL_COUNT",payload:e}},D={orders:[],totalCount:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS/SET_ORDERS_PORTION":return Object(w.a)(Object(w.a)({},e),{},{orders:t.payload});case"ORDERS/ORDERS_TOTAL_COUNT":return Object(w.a)(Object(w.a)({},e),{},{totalCount:t.payload});default:return e}},B=(n(198),n(287)),z=n(288),M=n(7),K=function(e,t){return e?Object(M.jsxs)("div",{className:"orderCarOption",children:[Object(M.jsx)(B.a,{className:"isCarOption"}),Object(M.jsx)("p",{children:t})]}):Object(M.jsxs)("div",{className:"orderCarOption",children:[Object(M.jsx)(z.a,{className:"isNotCarOption"}),Object(M.jsx)("p",{className:"isNotCarOptionText",children:t})]})},q=function(e){var t,n,a,c,r=e.order,s=new Date(null===r||void 0===r?void 0:r.dateFrom),o=new Date(null===r||void 0===r?void 0:r.dateTo);return Object(M.jsxs)("div",{className:"orderContent",children:[Object(M.jsx)("div",{className:"orderImageBlock",children:Object(M.jsx)("img",{src:null===r||void 0===r||null===(t=r.carId)||void 0===t?void 0:t.thumbnail.path,alt:"carImage",className:"orderCarImage"})}),Object(M.jsxs)("div",{className:"orderInfoBlock",children:[Object(M.jsxs)("p",{children:[Object(M.jsx)("span",{children:null===r||void 0===r||null===(n=r.carId)||void 0===n?void 0:n.name})," \u0432 ",Object(M.jsx)("span",{children:null===r||void 0===r||null===(a=r.cityId)||void 0===a?void 0:a.name}),", ",null===r||void 0===r||null===(c=r.pointId)||void 0===c?void 0:c.address]}),Object(M.jsxs)("p",{children:[s.toLocaleString()," \u2014 ",o.toLocaleString()]}),Object(M.jsxs)("p",{children:["\u0426\u0432\u0435\u0442: ",Object(M.jsx)("span",{children:null===r||void 0===r?void 0:r.color})]})]}),Object(M.jsxs)("div",{className:"orderOptionsBlock",children:[K(null===r||void 0===r?void 0:r.isFullTank,"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"),K(null===r||void 0===r?void 0:r.isNeedChildChair,"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"),K(null===r||void 0===r?void 0:r.isRightWheel,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c")]}),Object(M.jsx)("div",{className:"orderPriceBlock",children:Object(M.jsxs)("p",{className:"orderPrice",children:[null===r||void 0===r?void 0:r.price," \u20bd"]})})]})},J=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.b)(),s=Object(o.c)((function(e){return e.orders})),i=s.orders,u=s.totalCount;Object(a.useEffect)((function(){var e;r((e=n,function(){var t=Object(S.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:a=t.sent,D.totalCount||n(F(a.data.count)),n(L(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[n]);var j=Object(g.a)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"pageTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(M.jsxs)(d.a.Content,{className:"ordersListContent",children:[Object(M.jsx)("div",{className:"ordersList",children:i.map((function(e){return Object(M.jsx)(q,{order:e},e.id)}))}),Object(M.jsx)(I.a,{total:u,pageSize:20,current:n,showQuickJumper:!0,showTotal:function(e){return"\u0412\u0441\u0435\u0433\u043e ".concat(e," \u0437\u0430\u043a\u0430\u0437\u043e\u0432")},onChange:function(e){c(e)},simple:j.xs,size:j.lg?"default":"small"})]})]})},X=(n(267),n(280)),Q=function(e){return{type:"CARS/SET_CARS_PORTION",payload:e}},V=function(e){return{type:"CARS/CARS_TOTAL_COUNT",payload:e}},W={cars:[],totalCount:null},G=function(e){return function(){var t=Object(S.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:a=t.sent,W.totalCount||n(V(a.data.count)),n(Q(a.data.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS/SET_CARS_PORTION":return Object(w.a)(Object(w.a)({},e),{},{cars:t.payload});case"CARS/CARS_TOTAL_COUNT":return Object(w.a)(Object(w.a)({},e),{},{totalCount:t.payload});default:return e}},Z=n(282),$=[{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",dataIndex:"categoryId",key:"categoryId",render:function(e){return"".concat(null===e||void 0===e?void 0:e.name)}},{title:"\u0426\u0432\u0435\u0442\u0430",dataIndex:"colors",key:"colors",render:function(e){return e.map((function(t,n){return"".concat(t.toUpperCase()," ").concat(n!==e.length-1?", ":"")}))}},{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e",key:"number",dataIndex:"number"},{title:"\u0426\u0435\u043d\u0430",key:"priceMin",dataIndex:"priceMin"},{title:"\u0424\u043e\u0442\u043e",key:"thumbnail",dataIndex:"thumbnail",render:function(e){return Object(M.jsx)(Z.a,{src:null===e||void 0===e?void 0:e.path,alt:"carImage",preview:!1,width:100})}}],ee=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"}],te=[{title:"\u0413\u043e\u0440\u043e\u0434",dataIndex:"cityId",key:"cityId",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u0410\u0434\u0440\u0435\u0441",dataIndex:"address",key:"address"},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"}],ne=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),s=Object(l.a)(r,2),i=s[0],u=s[1],j=Object(o.c)((function(e){return e.cars})),O=j.cars,b=j.totalCount,p=Object(o.b)();return Object(a.useEffect)(Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,p(G(i));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[i]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"pageTitle",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"}),Object(M.jsx)(d.a.Content,{className:"ordersListContent",children:Object(M.jsx)(X.a,{bordered:!0,columns:$,dataSource:O,loading:n,rowKey:function(e){return e.id},pagination:{total:b-10,pageSize:10,current:i,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0430\u0432\u0442\u043e")},onChange:function(e){u(e)}}})})]})},ae=function(e){return{type:"CITIES/SET_CITIES_PORTION",payload:e}},ce=function(e){return{type:"CITIES/CITIES_TOTAL_COUNT",payload:e}},re={cities:[],totalCount:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITIES/SET_CITIES_PORTION":return Object(w.a)(Object(w.a)({},e),{},{cities:t.payload});case"CITIES/CITIES_TOTAL_COUNT":return Object(w.a)(Object(w.a)({},e),{},{totalCount:t.payload});default:return e}},oe=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.cities})),s=r.cities,i=r.totalCount,u=Object(o.b)();return Object(a.useEffect)(Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,u(function(){var e=Object(S.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,re.totalCount||t(ce(n.data.count)),t(ae(n.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"pageTitle",children:"\u0413\u043e\u0440\u043e\u0434\u0430"}),Object(M.jsx)(d.a.Content,{className:"ordersListContent",children:Object(M.jsx)(X.a,{bordered:!0,columns:ee,dataSource:s,loading:n,rowKey:function(e){return e.id},pagination:{total:i,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0433\u043e\u0440\u043e\u0434\u043e\u0432")}}})})]})},ie=function(e){return{type:"POINTS/SET_POINTS_PORTION",payload:e}},le=function(e){return{type:"POINTS/POINTS_TOTAL_COUNT",payload:e}},de={points:[],totalCount:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POINTS/SET_POINTS_PORTION":return Object(w.a)(Object(w.a)({},e),{},{points:t.payload});case"POINTS/POINTS_TOTAL_COUNT":return Object(w.a)(Object(w.a)({},e),{},{totalCount:t.payload});default:return e}},je=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.points})),s=r.points,i=r.totalCount,u=Object(o.b)();return Object(a.useEffect)(Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,u(function(){var e=Object(S.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n=e.sent,de.totalCount||t(le(n.data.count)),t(ie(n.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"pageTitle",children:"\u041f\u0443\u043d\u043a\u0442\u044b"}),Object(M.jsx)(d.a.Content,{className:"ordersListContent",children:Object(M.jsx)(X.a,{bordered:!0,columns:te,dataSource:s,loading:n,rowKey:function(e){return e.id},pagination:{total:i,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u043f\u0443\u043d\u043a\u0442\u043e\u0432")}}})})]})},Oe=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(g.a)(),s=0;return r.xs?s=35:r.md&&(s=200),Object(M.jsxs)(d.a,{children:[Object(M.jsxs)(u.a,{className:"adminPageHeader",children:[Object(M.jsxs)(j.a,{xs:{span:13},md:{span:6},lg:{span:5},xl:{span:3},className:"adminPageCompany",children:[Object(M.jsx)("img",{src:T,alt:"logo",className:"logoImg"}),Object(M.jsx)("p",{className:"logoTitle",children:"Need For Drive"})]}),Object(M.jsx)(j.a,{xs:{offset:5,span:3},md:{offset:14,span:2},lg:{offset:15},xl:{offset:19,span:1},className:"adminPageHeaderNotification",children:Object(M.jsx)(O.a,{count:2,size:"small",children:Object(M.jsx)(m.a,{className:"notificationIcon"})})}),Object(M.jsx)(j.a,{xs:{span:3},md:{span:2},xl:{span:1},className:"adminUserAccount",children:Object(M.jsx)(b.a,{src:y})})]}),Object(M.jsxs)(d.a,{children:[Object(M.jsx)(d.a.Sider,{width:s,className:"adminPageSider",children:Object(M.jsxs)(p.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},onSelect:function(e){c(Number(e.key))},children:[Object(M.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(M.jsx)(h.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},"1"),Object(M.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(M.jsx)(f.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0430\u0432\u0442\u043e"},"2"),Object(M.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(M.jsx)(x.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"},"3"),Object(M.jsx)(p.a.Item,{className:"sideMenuItem",icon:Object(M.jsx)(v.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0443\u043d\u043a\u0442\u043e\u0432"},"4")]})}),Object(M.jsxs)(d.a,{className:"adminPageContainer",children:[1===n&&Object(M.jsx)(J,{}),2===n&&Object(M.jsx)(ne,{}),3===n&&Object(M.jsx)(oe,{}),4===n&&Object(M.jsx)(je,{})]})]})]})},be=(n(273),n(286)),pe=n(281),me=n(283),he=n(56),fe=n(294),xe=n(295),ve="0123456789abcdefghijklmnopqrstuvwxyz",ge=A.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:function(){for(var e="";e.length<7;)e+=ve[Math.floor(Math.random()*ve.length)];return"Basic ".concat(window.btoa("".concat(e,":").concat("4cbcea96de")))}()}}),Te=function(e,t){var n={username:e,password:t};return ge.post("auth/login",n).catch((function(e){return Object(w.a)(Object(w.a)({},e),{},{status:401})}))},ye=function(e){return{type:"AUTH/SET_AUTH_DATA",payload:e}},Ie=function(e){return{type:"AUTH/SET_AUTH_STATUS",payload:e}},Ne={isAuth:!1,authStatus:null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_DATA":return localStorage.setItem("access_token",t.payload.access_token),localStorage.setItem("refresh_token",t.payload.refresh_token),Object(w.a)(Object(w.a)({},e),{},{isAuth:!0});case"AUTH/SET_AUTH_STATUS":return Object(w.a)(Object(w.a)({},e),{},{authStatus:t.payload});default:return e}},Se=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth.authStatus}));return Object(M.jsx)("div",{className:"loginContainer",children:Object(M.jsxs)("div",{className:"loginContent",children:[Object(M.jsxs)(be.b,{className:"loginHeader",size:"middle",children:[Object(M.jsx)("img",{className:"logo",src:T,alt:"logo"}),Object(M.jsx)("p",{className:"company",children:"Need For Drive"})]}),Object(M.jsxs)("div",{className:"loginCard",children:[Object(M.jsx)("p",{className:"loginTitle",children:"\u0412\u0445\u043e\u0434"}),Object(M.jsxs)(pe.a,{name:"loginForm",onFinish:function(t){var n,a;e((n=t.username,a=t.password,function(){var e=Object(S.a)(C.a.mark((function e(t){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(n,a);case 2:200===(c=e.sent).status?t(ye(c.data)):t(Ie(c.status));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{remember:!0},children:[Object(M.jsx)(pe.a.Item,{className:"formItem",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}],validateStatus:401===t?"error":null,children:Object(M.jsx)(me.a,{prefix:Object(M.jsx)(fe.a,{}),placeholder:"Username",allowClear:!0})}),Object(M.jsx)(pe.a.Item,{className:"formItem",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],validateStatus:401===t?"error":null,help:401===t?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":null,children:Object(M.jsx)(me.a,{prefix:Object(M.jsx)(xe.a,{}),type:"password",placeholder:"Password",allowClear:!0})}),Object(M.jsxs)("div",{className:"loginCardFooter",children:[Object(M.jsx)("a",{children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(M.jsx)(he.a,{type:"primary",htmlType:"submit",className:"submitButton",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})},we=function(){var e=Object(o.c)((function(e){return e.auth.isAuth}));return Object(M.jsxs)(i.d,{children:[Object(M.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(M.jsx)(i.a,{to:"/admin"})}}),Object(M.jsx)(i.b,{path:"/admin",render:function(){return e?Object(M.jsx)(Oe,{}):Object(M.jsx)(i.a,{to:"/login"})}}),Object(M.jsx)(i.b,{path:"/login",render:function(){return e?Object(M.jsx)(i.a,{to:"/admin"}):Object(M.jsx)(Se,{})}})]})},_e=n(120),Ae=n(159),Re=Object(_e.b)({auth:Ce,orders:H,cars:Y,cities:se,points:ue}),ke=Object(_e.c)(Re,Object(_e.a)(Ae.a)),Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,296)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(M.jsx)(o.a,{store:ke,children:Object(M.jsx)(s.a,{children:Object(M.jsx)(we,{})})}),document.getElementById("root")),Ee()}},[[275,1,2]]]);
//# sourceMappingURL=main.cb65c3f5.chunk.js.map