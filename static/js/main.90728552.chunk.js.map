{"version":3,"sources":["pages/adminPage/AdminPage.jsx","api/api.js","redux/actions/authActions.js","pages/loginPage/Login.jsx","assets/Logo Icon.png","components/PrivateRoute.jsx","App.jsx","redux/authReducer.js","redux/reduxStore.js","reportWebVitals.js","index.jsx"],"names":["AdminPage","alphabet","instance","axios","create","baseURL","headers","rs","length","Math","floor","random","window","btoa","getBasicHash","authAPI","login","password","body","username","post","authActions","data","type","payload","status","Login","dispatch","useDispatch","authStatus","useSelector","state","auth","className","size","src","alt","name","onFinish","values","a","response","sessionStorage","setItem","access_token","refresh_token","initialValues","remember","Item","rules","required","message","validateStatus","prefix","UserOutlined","placeholder","allowClear","help","LockOutlined","htmlType","PrivateRoute","props","path","redirect","condition","children","render","to","App","isAuth","exact","initialState","authReducer","action","rootReducer","combineReducers","store","createStore","applyMiddleware","thunkMiddleWare","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.90728552.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const AdminPage = () => {\r\n  return <h1>ADMIN PAGE</h1>\r\n}","import axios from \"axios\";\r\n\r\nconst clientSecret = \"4cbcea96de\"\r\nconst alphabet = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n\r\nconst getBasicHash = () => {\r\n  let rs = \"\";\r\n  while (rs.length < 7) {\r\n    rs += alphabet[Math.floor(Math.random() * alphabet.length)];\r\n  }\r\n  return `Basic ${window.btoa(`${rs}:${clientSecret}`)}`\r\n}\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://api-factory.simbirsoft1.com/api',\r\n  headers: {\r\n    \"X-Api-Factory-Application-Id\": \"5e25c641099b810b946c5d5b\",\r\n    \"Access-Control-Allow-Origin\": \"*\",\r\n    \"Content-Type\": \"application/json\",\r\n    \"Authorization\": getBasicHash()\r\n  },\r\n});\r\n\r\nexport const authAPI = {\r\n  postLogin(login, password) {\r\n    const body = {\r\n      username: login,\r\n      password\r\n    }\r\n    return instance.post(`auth/login`, body)\r\n  }\r\n}","import {authAPI} from \"../../api/api\";\r\n\r\nexport const authActions = {\r\n  setAuthData: (data) => ({type: \"AUTH/SET_AUTH_DATA\", payload: data}),\r\n  setAuthStatus: (status) => ({type: \"AUTH/SET_AUTH_STATUS\", payload: status})\r\n}\r\n\r\nexport const postLogin = (login, password) => async (dispatch) => {\r\n  try {\r\n    const response = await authAPI.postLogin(login, password)\r\n    sessionStorage.setItem(\"access_token\", response.data.access_token)\r\n    sessionStorage.setItem(\"refresh_token\", response.data.refresh_token)\r\n    dispatch(authActions.setAuthData(response.data))\r\n  } catch (e) {\r\n    dispatch(authActions.setAuthStatus(e.response.status))\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport './Login.css'\r\nimport {Button, Form, Input, Space} from \"antd\";\r\nimport {LockOutlined, UserOutlined} from \"@ant-design/icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport logo from '../../assets/Logo Icon.png'\r\nimport {postLogin} from \"../../redux/actions/authActions\";\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const onFinish = (values) => {\r\n    dispatch(postLogin(values.username, values.password))\r\n  };\r\n\r\n  const authStatus = useSelector(state => state.auth.authStatus)\r\n\r\n  return <div className=\"loginContainer\">\r\n    <div className=\"loginContent\">\r\n      <Space\r\n        className=\"loginHeader\"\r\n        size=\"middle\"\r\n      >\r\n        <img\r\n          className=\"logo\"\r\n          src={logo}\r\n          alt=\"logo\"\r\n        />\r\n        <p className=\"company\">Need For Drive</p>\r\n      </Space>\r\n      <div className=\"loginCard\">\r\n        <p className=\"loginTitle\">Вход</p>\r\n        <Form\r\n          name=\"loginForm\"\r\n          onFinish={onFinish}\r\n          initialValues={{remember: true}} // intern intern-S!\r\n        >\r\n          <Form.Item\r\n            className=\"formItem\"\r\n            name=\"username\"\r\n            rules={[{required: true, message: 'Введите логин'}]}\r\n            validateStatus={authStatus === 401 ? \"error\" : null}\r\n          >\r\n            <Input\r\n              prefix={<UserOutlined/>}\r\n              placeholder=\"Username\"\r\n              allowClear\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            className=\"formItem\"\r\n            name=\"password\"\r\n            rules={[{required: true, message: 'Введите пароль'}]}\r\n            validateStatus={authStatus === 401 ? \"error\" : null}\r\n            help={authStatus === 401 ? \"Неверный логин или пароль\" : null}\r\n          >\r\n            <Input\r\n              prefix={<LockOutlined/>}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              allowClear\r\n            />\r\n          </Form.Item>\r\n\r\n          <div className=\"loginCardFooter\">\r\n            {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n            <a>Запросить доступ</a>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"submitButton\"\r\n            >Войти</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOxSURBVHgB1Zl/UtpQEMd3X7DTmTpOeoLGE0j/7/DjBNgTNPYCpScQTiBeoMQT1J4AsdO/izdIb0DVznTUvHX3JTACAZJAgHxmkEgS83XZt78eworYP92aBjhCUDUgKhN/BOHLgAA+//CJcECKBo+P1P9f93xYAYQMGKGkGgDkvhSY4qkDQuhYj/RjWPeGkJJUokUsAZ4SQQ3Wgw+EF0rrThrxiUTbPdfWljqLLJsHPilo3X3oXiS5eKno0BWwy4cO5IwG7JQC3V5m9YWiD/qfm4B0BpvFfwiovmixqnknWHBrC4IF55WFvdc915l3QaylI8GnsF18FdD7OFeZsbT48A4IFpzAwu9xJyZEc5RwokW3E7Ab1A76bnP68wnRHNbEwg7sEohn0/49Fm3/css5xuGV2LMmv/2xaNK4jUiRCHGT/R6vtQgjmn25vMbUnAto4Tg4GNHsy19gxxFrSzkhx5F70DEUAF2CT/KuTFzOUl5uAa7JjXEVF/BVKAjsImV5V0iqDMXBfsNBQxGSAwVC7eGRAtqxDLgEJLIlehRiEb7AVlBAiinazCUKBCH6HD0g9dxhm5DmjobTzBVsCQJ+NlHzwVLObaWL8uIW6y0nvBqf9eLuKQV0g/a163LrvtluhcDXCO59pdtfdJnppCzg6g7d0X231e6hggAuYZPwgx801ZcJFrip9W8r3okmaplbMfQKJd0uDw2vYBNEgtMOIO+rXjsUjsbAJuQh0kaszcZpZZ2YljRcUEB/5diIVk8gM7R8owjB4K6abFYXhzQqo+7FiDYDEaQO5AhbOfPft003Tsej7mWcEdna5+JzkBNa0w1kRCuU2Ycjx8EeNsaizYLU9BVy4l/dG0AGjJURxj0sV3nORO1xV/cuNeTrJmkI5+LYm/58pmAqBdCWRQM5CICUsFu0YHbiNZwRLW6iNH1ct38/Rf1dUsLJLcyMNnjWOIgtTSUTsfD6OoUrCxpJr507amY9kknn1tMj4evLlugucxE5f9A/8eaPmsP1lmijaL/vnio0/rUSsqdyX/kWG6Gky7bCebQTe3NULMlhos5Fcj+XjIcIq6V7roOb5qt/QWTdDgv+vUiw1CyjX1Nvfu5fn1RZfBMBs4/SCNuyd6iVko0oWWzz3SamyMq0YyuYWldBgzsfTq9YS3QTkWw5cy7ASy7m/0zUyrNih5IzuFA6n953ySx6GjP5sfCdZCz2g7HleO4tQodWQP24TR/553lv5YgrzTAkahaLOFhUbz8DJt+nwp1r43QAAAAASUVORK5CYII=\"","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport {Redirect, Route} from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = (props) => {\r\n  const {path, redirect, condition, children} = props\r\n\r\n  return <Route\r\n    path={path}\r\n    render={() => {\r\n      return condition ? children : <Redirect to={redirect}/>\r\n    }}\r\n  />\r\n}","import React from \"react\";\r\nimport 'antd/dist/antd.css';\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AdminPage} from \"./pages/adminPage/AdminPage\";\r\nimport {Login} from \"./pages/loginPage/Login\";\r\nimport {PrivateRoute} from \"./components/PrivateRoute\";\r\n\r\nconst App = () => {\r\n  const isAuth = useSelector(state => state.auth.isAuth)\r\n\r\n  return <Switch>\r\n    <Route\r\n      exact\r\n      path=\"/\"\r\n      render={() => <Redirect to=\"/admin\"/>}\r\n    />\r\n\r\n    <PrivateRoute\r\n      path=\"/admin\"\r\n      redirect=\"/login\"\r\n      condition={isAuth}\r\n    >\r\n      <AdminPage/>\r\n    </PrivateRoute>\r\n\r\n    <PrivateRoute\r\n      path=\"/login\"\r\n      redirect=\"/admin\"\r\n      condition={!isAuth}\r\n    >\r\n      <Login/>\r\n    </PrivateRoute>\r\n  </Switch>\r\n}\r\n\r\nexport default App\r\n","const initialState = {\r\n  isAuth: false,\r\n  authStatus: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"AUTH/SET_AUTH_DATA\": {\r\n      return {\r\n        ...state,\r\n        isAuth: true\r\n      }\r\n    }\r\n    case \"AUTH/SET_AUTH_STATUS\": {\r\n      return {\r\n        ...state,\r\n        authStatus: action.payload\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport authReducer from \"./authReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer\r\n});\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleWare));\r\n\r\nexport default store;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport App from './App';\r\nimport store from \"./redux/reduxStore\";\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <HashRouter>\r\n      <App/>\r\n    </HashRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}