(this.webpackJsonpneedfordriveadmin=this.webpackJsonpneedfordriveadmin||[]).push([[0],{199:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},209:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(35),r=n.n(c),i=(n(199),n(33)),s=n(21),o=(n(204),n(34)),l=n(32),u=n(311),d=n(324),j=n(85),b=n(330),O=n(331),p=n(332),m=n(333),h=(n(205),n(17)),f=n(321),x=n(186),v=(n(206),n(42)),y=(n(207),n(326)),T=n(327),g=n(4),S=function(e,t){return e?Object(g.jsxs)("div",{className:"orderCarOption",children:[Object(g.jsx)(y.a,{className:"isCarOption"}),Object(g.jsx)("p",{children:t})]}):Object(g.jsxs)("div",{className:"orderCarOption",children:[Object(g.jsx)(T.a,{className:"isNotCarOption"}),Object(g.jsx)("p",{className:"isNotCarOptionText",children:t})]})},I=function(e){var t,n,a,c,r,i,s=e.order,o=new Date(null===s||void 0===s?void 0:s.dateFrom),l=new Date(null===s||void 0===s?void 0:s.dateTo);return Object(g.jsxs)("div",{className:"orderContent",children:[Object(g.jsx)("div",{className:"orderImageBlock",children:Object(g.jsx)("img",{src:null===s||void 0===s||null===(t=s.carId)||void 0===t?void 0:t.thumbnail.path,alt:"carImage",className:"orderCarImage"})}),Object(g.jsxs)("div",{className:"orderInfoBlock",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{children:null===s||void 0===s||null===(n=s.carId)||void 0===n?void 0:n.name}),(null===s||void 0===s||null===(a=s.cityId)||void 0===a?void 0:a.name)&&" \u0432 ",Object(g.jsx)("span",{children:null===s||void 0===s||null===(c=s.cityId)||void 0===c?void 0:c.name}),(null===s||void 0===s||null===(r=s.pointId)||void 0===r?void 0:r.address)&&", ",null===s||void 0===s||null===(i=s.pointId)||void 0===i?void 0:i.address]}),Object(g.jsxs)("p",{children:[o.toLocaleString()," \u2014 ",l.toLocaleString()]}),Object(g.jsxs)("p",{children:["\u0426\u0432\u0435\u0442: ",Object(g.jsx)("span",{children:null===s||void 0===s?void 0:s.color})]})]}),Object(g.jsxs)("div",{className:"orderOptionsBlock",children:[S(null===s||void 0===s?void 0:s.isFullTank,"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"),S(null===s||void 0===s?void 0:s.isNeedChildChair,"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"),S(null===s||void 0===s?void 0:s.isRightWheel,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c")]}),Object(g.jsx)("div",{className:"orderPriceBlock",children:Object(g.jsxs)("p",{className:"orderPrice",children:[null===s||void 0===s?void 0:s.price," \u20bd"]})})]})},C=n(317),N=n(73),E=n(40),_=(n(209),n(16)),w=n.n(_),A=n(24),k=n(121),R=n.n(k),F=R.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}}),P=function(e){var t="";return e&&e.field&&e.sortDirection&&(t+="?sort[".concat(e.field,"]=").concat(e.sortDirection)),t},U=function(e,t){return F.put(e,t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}})},D=function(e,t){return F.post(e,t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}})},L=function(e){return F.get(e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}})},B=function(e,t,n){var a="";return n&&(n.cityId&&(a+="&cityId=".concat(n.cityId)),n.orderStatus&&(a+="&orderStatusId=".concat(n.orderStatus)),n.dateFrom&&(a+="&dateFrom%5B%24gt%5D=".concat(n.dateFrom))),L("db/order?page=".concat(e,"&limit=").concat(t).concat(a))},M=function(){return L("db/orderStatus").then((function(e){return e.data.data}))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=n?"db/car".concat(P(n),"&page=").concat(e,"&limit=").concat(t):"db/car?page=".concat(e,"&limit=").concat(t);return L(a)},q=function(){return L("db/category").then((function(e){return e.data.data}))},H=function(e,t){return U("db/car/".concat(e),t)},G=function(e){return D("db/car",e)},V=function(e){return t="db/car/".concat(e),F.delete(t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("access_token"))}});var t},Y=function(e){return L("db/city".concat(P(e)))},K=function(e,t){return U("db/city/".concat(e),t)},J=function(e){return D("db/city",e)},X=function(e){return L("db/point".concat(P(e)))},Q=function(e,t){return U("db/point/".concat(e),t)},W=function(e){return D("db/point",e)},Z=function(e){return{type:"UTILS/SET_ADMIN_CURRENT_PAGE",payload:e}},$=function(e){return{type:"UTILS/SET_ERROR",payload:e}},ee=function(e){return{type:"ORDERS/SET_ORDERS_PORTION",payload:e}},te=function(e){return{type:"ORDERS/ORDERS_TOTAL_COUNT",payload:e}},ne=function(e){return{type:"ORDERS/SET_ORDER_STATUS",payload:e}},ae=function(e){return{type:"CITIES/SET_CITIES_PORTION",payload:e}},ce=function(e){return{type:"CITIES/CITIES_TOTAL_COUNT",payload:e}},re=function(e){return{type:"CITIES/SET_CITY_TO_EDIT",payload:e}},ie=function(e){return{type:"CITIES/SET_CITY_ACTION",payload:e}},se=function(e){return{type:"CITIES/SET_CITY_SUCCESS",payload:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(A.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(e);case 3:a=t.sent,n(ce(a.data.count)),n(ae(a.data.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n($(t.t0.response));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},le=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(re(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(se(!1)),n(ie(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},de=function(e){var t=e.onFilterFormFinish,n=Object(s.c)((function(e){return e.orders.orderStatus})),c=Object(s.c)((function(e){return e.cities.cities})),r=Object(s.b)();return Object(a.useEffect)((function(){r(function(){var e=Object(A.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:n=e.sent,t(ne(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t($(e.t0.response));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),r(oe())}),[]),Object(g.jsxs)(C.a,{name:"ordersFilterForm",className:"filterForm",onFinish:t,children:[Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"cityId",children:Object(g.jsx)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",allowClear:!0,children:c.map((function(e){return Object(g.jsx)(N.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"orderStatus",children:Object(g.jsx)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430",allowClear:!0,children:n.map((function(e){return Object(g.jsx)(N.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"dateFrom",children:Object(g.jsxs)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a",allowClear:!0,children:[Object(g.jsx)(N.a.Option,{value:"month",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(g.jsx)(N.a.Option,{value:"week",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043d\u0435\u0434\u0435\u043b\u044e"}),Object(g.jsx)(N.a.Option,{value:"day",children:"\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0434\u0435\u043d\u044c"})]})}),Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},je=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(10),i=Object(l.a)(r,2),o=i[0],d=(i[1],Object(a.useState)(null)),j=Object(l.a)(d,2),b=j[0],O=j[1],p=Object(a.useState)([]),m=Object(l.a)(p,2),y=m[0],T=m[1],S=Object(s.c)((function(e){return e.orders})),C=S.orders,N=S.totalCount,E=Object(s.b)(),_=Object(v.a)(),k=function(e){var t=new Date,n="";switch(e.dateFrom){case"month":n=t.setMonth(t.getMonth()-1);break;case"week":n=t.setDate(t.getDate()-7);break;case"day":n=t.setDate(t.getDate()-1)}O(Object(h.a)(Object(h.a)({},e),{},{dateFrom:n}))};return Object(a.useEffect)((function(){E(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(A.a)(w.a.mark((function a(c){var r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B(e,t,n);case 3:r=a.sent,c(te(r.data.count)),c(ee(r.data.data)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),c($(a.t0.response));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(n-1,o,b))}),[n,b]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[_.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:T,children:Object(g.jsx)(f.a.Panel,{header:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",children:Object(g.jsx)(de,{onFilterFormFinish:k})},1)}):Object(g.jsx)(de,{onFilterFormFinish:k}),Object(g.jsx)("div",{className:"ordersList",style:y.length?{height:"35%"}:{height:"70%"},children:C.map((function(e){return Object(g.jsx)(I,{order:e},e.id)}))}),Object(g.jsx)(x.a,{total:N,pageSize:20,current:n,showQuickJumper:!0,showSizeChanger:!1,showTotal:function(e){return"\u0412\u0441\u0435\u0433\u043e ".concat(e," \u0437\u0430\u043a\u0430\u0437\u043e\u0432")},onChange:function(e){c(e)},simple:_.xs,size:_.lg?"default":"small"})]})]})},be=n(312),Oe=n(313),pe=n(323),me=n(322),he=n(328),fe=n(138),xe=n(329),ve=n.p+"static/media/Logo Icon.830257bf.svg",ye=n.p+"static/media/avatar.8845cada.png",Te=(n(294),function(e){var t=e.setVisible,n=Object(v.a)();return Object(g.jsxs)(be.a,{className:"adminPageHeader",children:[Object(g.jsxs)(Oe.a,{xs:{span:15},md:{span:7},lg:{span:6},xl:{span:4},className:"adminPageCompany",children:[Object(g.jsx)(E.a,{className:"sideMenuButton",onClick:function(){return t(!0)},children:Object(g.jsx)(he.a,{})}),Object(g.jsx)("img",{src:ve,alt:"logo",className:"logoImg"}),Object(g.jsx)("p",{className:"logoTitle",children:"Need For Drive"})]}),Object(g.jsx)(Oe.a,{className:"adminPageSearch",xs:{offset:3,span:3},md:{offset:11,span:2},lg:{offset:12},xl:{offset:17,span:1},children:Object(g.jsx)(fe.a,{className:"searchIcon"})}),Object(g.jsx)(Oe.a,{xs:n.xs&&{offset:3,span:3},md:{span:2},xl:{span:1},className:"adminPageHeaderNotification",children:Object(g.jsx)(pe.a,{count:2,size:"small",children:Object(g.jsx)(xe.a,{className:"notificationIcon"})})}),Object(g.jsx)(Oe.a,{xs:{span:3},md:{span:2},xl:{span:1},className:"adminUserAccount",children:Object(g.jsx)(me.a,{src:ye})})]})}),ge=(n(295),n(315)),Se=n(318),Ie=n(320),Ce=n(325),Ne=n(109),Ee=function(e){return{type:"CARS/SET_CARS_PORTION",payload:e}},_e=function(e){return{type:"CARS/CARS_TOTAL_COUNT",payload:e}},we=function(e){return{type:"CARS/SET_CAR_TO_EDIT",payload:e}},Ae=function(e){return{type:"CARS/SET_CATEGORIES",payload:e}},ke=function(e){return{type:"CARS/SET_CAR_ACTION",payload:e}},Re=function(e){return{type:"CARS/SET_CAR_SUCCESS",payload:e}},Fe=function(e){return{type:"CARS/SET_CURRENT_PAGE",payload:e}},Pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(A.a)(w.a.mark((function a(c){var r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z(e,t,n);case 3:r=a.sent,c(_e(r.data.count)),c(Ee(r.data.data)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),c($(a.t0.response));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Ue=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(we(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},De=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Re(!1)),n(ke(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Le=function(e,t){return function(){var n=Object(A.a)(w.a.mark((function n(a){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H(e,t);case 3:200===n.sent.status?a(Re(!0)):a(Re(!1)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a($(n.t0.response));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},Be=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e);case 3:200===t.sent.status?n(Re(!0)):n(Re(!1)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n($(t.t0.response));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Fe(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ze=function(e){return{type:"POINTS/SET_POINTS_PORTION",payload:e}},qe=function(e){return{type:"POINTS/POINTS_TOTAL_COUNT",payload:e}},He=function(e){return{type:"POINTS/SET_POINT_TO_EDIT",payload:e}},Ge=function(e){return{type:"POINTS/SET_POINT_ACTION",payload:e}},Ve=function(e){return{type:"POINTS/SET_POINT_SUCCESS",payload:e}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(A.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X(e);case 3:a=t.sent,n(qe(a.data.count)),n(ze(a.data.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n($(t.t0.response));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ke=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(He(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Je=function(e){return function(){var t=Object(A.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Ve(!1)),n(Ge(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Xe=[{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",dataIndex:"categoryId",key:"categoryId",render:function(e){return"".concat(null===e||void 0===e?void 0:e.name)}},{title:"\u0426\u0432\u0435\u0442\u0430",dataIndex:"colors",key:"colors",render:function(e){return e.map((function(t,n){return"".concat(t.toUpperCase()," ").concat(n!==e.length-1?", ":"")}))}},{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e",key:"number",dataIndex:"number"},{title:"\u0426\u0435\u043d\u0430",key:"priceMin",dataIndex:"priceMin"},{title:"\u0424\u043e\u0442\u043e",key:"thumbnail",dataIndex:"thumbnail",render:function(e){return Object(g.jsx)(Se.a,{src:null===e||void 0===e?void 0:e.path,alt:"carImage",preview:!1,width:100})}},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(s.b)(),n=function(){Ie.a.confirm({title:"\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0430\u0448\u0438\u043d\u0443?",icon:Object(g.jsx)(Ne.a,{}),onOk:function(){var n;t((n=e.id,function(){var e=Object(A.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t($(e.t0.response));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())),t(Me(1)),t(Pe(0))}})};return Object(g.jsxs)(Ce.b,{children:[Object(g.jsx)(i.b,{to:"car-edit",onClick:function(){t(De("update")),t(Ue(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(g.jsx)(E.a,{type:"link",onClick:function(){t(n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}}],Qe=[{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(s.b)();return Object(g.jsx)(i.b,{to:"city-edit",onClick:function(){t(ue("update")),t(le(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],We=[{title:"\u0413\u043e\u0440\u043e\u0434",dataIndex:"cityId",key:"cityId",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"\u0410\u0434\u0440\u0435\u0441",dataIndex:"address",key:"address"},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"actions",render:function(e){var t=Object(s.b)();return Object(g.jsx)(i.b,{to:"point-edit",onClick:function(){t(Je("update")),t(Ke(e))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],Ze=function(e){var t=e.fields,n=e.onSorterFormFinish;return Object(g.jsxs)(C.a,{className:"filterForm",name:"sorterForm",onFinish:n,children:[Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"field",children:Object(g.jsx)(N.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",allowClear:!0,children:t.map((function(e){return Object(g.jsx)(N.a.Option,{value:e.idName,children:e.name},e.idName)}))})}),Object(g.jsx)(C.a.Item,{className:"filterFormItem",name:"sortDirection",children:Object(g.jsxs)(N.a,{placeholder:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e...",allowClear:!0,children:[Object(g.jsx)(N.a.Option,{value:1,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(g.jsx)(N.a.Option,{value:-1,children:"\u0423\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})}),Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},$e=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),p=O[0],m=O[1],h=Object(s.c)((function(e){return e.cars})),x=h.cars,y=h.totalCount,T=h.currentPage,S=Object(s.b)(),I=Object(v.a)(),C=function(e){m(e)};return Object(a.useEffect)(Object(A.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,S(Pe(T-1,10,p));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[T,p]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[I.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:j,children:Object(g.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(g.jsx)(Ze,{fields:[{idName:"categoryId",name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},{idName:"priceMin",name:"\u0426\u0435\u043d\u0430"}],onSorterFormFinish:C})},1)}):Object(g.jsx)(Ze,{fields:[{idName:"categoryId",name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},{idName:"priceMin",name:"\u0426\u0435\u043d\u0430"}],onSorterFormFinish:C}),Object(g.jsx)(i.b,{to:"car-edit",children:Object(g.jsx)(E.a,{type:"primary",className:"addEntityButton",onClick:function(){S(De("create")),S(Ue(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e"})}),Object(g.jsx)("div",{className:"carsTable",style:d.length?{height:"55%"}:{height:"85%"},children:Object(g.jsx)(ge.a,{bordered:!0,columns:Xe,dataSource:x,loading:n,rowKey:function(e){return e.id},pagination:{total:y,pageSize:10,current:T,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0430\u0432\u0442\u043e")},onChange:function(e){S(Me(e))}}})})]})]})},et=(n(302),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),p=O[0],m=O[1],h=Object(s.c)((function(e){return e.cities})),x=h.cities,y=h.totalCount,T=Object(s.b)(),S=Object(v.a)(),I=function(e){m(e)};return Object(a.useEffect)(Object(A.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,T(oe(p));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[p]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u0413\u043e\u0440\u043e\u0434\u0430"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[S.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:j,children:Object(g.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(g.jsx)(Ze,{fields:[{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I})},1)}):Object(g.jsx)(Ze,{fields:[{idName:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I}),Object(g.jsx)(i.b,{to:"city-edit",children:Object(g.jsx)(E.a,{type:"primary",className:"addEntityButton",onClick:function(){T(ue("create")),T(le(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"})}),Object(g.jsx)("div",{className:"citiesTable",style:d.length?{height:"60%"}:{height:"85%"},children:Object(g.jsx)(ge.a,{bordered:!0,columns:Qe,dataSource:x,loading:n,rowKey:function(e){return e.id},pagination:{total:y,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u0433\u043e\u0440\u043e\u0434\u043e\u0432")}}})})]})]})}),tt=(n(303),function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),p=O[0],m=O[1],h=Object(s.c)((function(e){return e.points})),x=h.points,y=h.totalCount,T=Object(s.b)(),S=Object(v.a)(),I=function(e){m(e)};return Object(a.useEffect)(Object(A.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,T(Ye(p));case 3:c(!1);case 4:case"end":return e.stop()}}),e)}))),[p]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"pageTitle",children:"\u041f\u0443\u043d\u043a\u0442\u044b"}),Object(g.jsxs)(u.a.Content,{className:"ordersListContent",children:[S.xs?Object(g.jsx)(f.a,{ghost:!0,onChange:j,children:Object(g.jsx)(f.a.Panel,{header:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438",children:Object(g.jsx)(Ze,{fields:[{idName:"cityId",name:"\u0413\u043e\u0440\u043e\u0434"},{idName:"address",name:"\u0410\u0434\u0440\u0435\u0441"},{idName:"name",name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I})},1)}):Object(g.jsx)(Ze,{fields:[{idName:"cityId",name:"\u0413\u043e\u0440\u043e\u0434"},{idName:"address",name:"\u0410\u0434\u0440\u0435\u0441"},{idName:"name",name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}],onSorterFormFinish:I}),Object(g.jsx)(i.b,{to:"point-edit",children:Object(g.jsx)(E.a,{type:"primary",className:"addEntityButton",onClick:function(){T(Je("create")),T(Ke(null))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442"})}),Object(g.jsx)("div",{className:"pointsTable",style:d.length?{height:"55%"}:{height:"85%"},children:Object(g.jsx)(ge.a,{bordered:!0,columns:We,dataSource:x,loading:n,rowKey:function(e){return e.id},pagination:{total:y,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," \u0438\u0437 ").concat(e," \u043f\u0443\u043d\u043a\u0442\u043e\u0432")}}})})]})]})}),nt=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(s.c)((function(e){return e.utils.adminCurrentPage})),i=Object(s.b)();return Object(g.jsxs)(u.a,{children:[Object(g.jsx)(Te,{setVisible:c}),Object(g.jsxs)(u.a,{children:[Object(g.jsx)(d.a,{title:"\u041c\u0435\u043d\u044e",placement:"left",onClose:function(){c(!1)},visible:n,children:Object(g.jsxs)(j.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},onSelect:function(e){var t;i((t=Number(e.key),function(){var e=Object(A.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Z(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(!1)},children:[Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(b.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},"1"),Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(O.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0430\u0432\u0442\u043e"},"2"),Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(p.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"},"3"),Object(g.jsx)(j.a.Item,{className:"sideMenuItem",icon:Object(g.jsx)(m.a,{}),children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0443\u043d\u043a\u0442\u043e\u0432"},"4")]})}),Object(g.jsxs)(u.a,{className:"adminPageContainer",children:[1===r&&Object(g.jsx)(je,{}),2===r&&Object(g.jsx)($e,{}),3===r&&Object(g.jsx)(et,{}),4===r&&Object(g.jsx)(tt,{})]})]})]})},at=(n(304),n(319)),ct=n(334),rt=n(335),it="0123456789abcdefghijklmnopqrstuvwxyz",st=R.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:function(){for(var e="";e.length<7;)e+=it[Math.floor(Math.random()*it.length)];return"Basic ".concat(window.btoa("".concat(e,":").concat("4cbcea96de")))}()}}),ot=function(e,t){var n={username:e,password:t};return st.post("auth/login",n)},lt=function(e){return{type:"AUTH/SET_AUTH_DATA",payload:e}},ut=function(e){return{type:"AUTH/SET_AUTH_STATUS",payload:e}},dt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth.authStatus}));return Object(g.jsx)("div",{className:"loginContainer",children:Object(g.jsxs)("div",{className:"loginContent",children:[Object(g.jsxs)(Ce.b,{className:"loginHeader",size:"middle",children:[Object(g.jsx)("img",{className:"logo",src:ve,alt:"logo"}),Object(g.jsx)("p",{className:"company",children:"Need For Drive"})]}),Object(g.jsxs)("div",{className:"loginCard",children:[Object(g.jsx)("p",{className:"loginTitle",children:"\u0412\u0445\u043e\u0434"}),Object(g.jsxs)(C.a,{name:"loginForm",onFinish:function(t){var n,a;e((n=t.username,a=t.password,function(){var e=Object(A.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot(n,a);case 3:c=e.sent,sessionStorage.setItem("access_token",c.data.access_token),sessionStorage.setItem("refresh_token",c.data.refresh_token),t(lt(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(ut(e.t0.response.status));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{remember:!0},children:[Object(g.jsx)(C.a.Item,{className:"formItem",name:"username",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}],validateStatus:401===t?"error":null,children:Object(g.jsx)(at.a,{prefix:Object(g.jsx)(ct.a,{}),placeholder:"Username",allowClear:!0})}),Object(g.jsx)(C.a.Item,{className:"formItem",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],validateStatus:401===t?"error":null,help:401===t?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":null,children:Object(g.jsx)(at.a,{prefix:Object(g.jsx)(rt.a,{}),type:"password",placeholder:"Password",allowClear:!0})}),Object(g.jsxs)("div",{className:"loginCardFooter",children:[Object(g.jsx)("a",{children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",className:"submitButton",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})},jt=function(e){var t=e.path,n=e.redirect,a=e.isAuth,c=e.children;return Object(g.jsx)(o.b,{path:t,render:function(){return a?c:Object(g.jsx)(o.a,{to:n})}})},bt=n(316),Ot=(n(305),n(337)),pt=n.p+"static/media/blankCar.55f3fbcd.png",mt=n(189),ht=n(188),ft=n(314),xt=n(108),vt=n(336),yt=function(e){var t,n=e.image,c=e.carToEdit,r=Object(a.useState)((null===c||void 0===c?void 0:c.colors.map((function(e,t){return{id:e+t,value:e}})))||[]),o=Object(l.a)(r,2),u=o[0],d=o[1],j=Object(s.c)((function(e){return e.cars})),b=j.categories,O=j.carAction,p=j.carSuccess,m=b.map((function(e){return{value:e.name}})),h=Object(s.b)(),f=Object(a.useRef)(),x=function(){var e=Object(A.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=b.find((function(e){return e.name===t.categoryId})).id,r={priceMin:Number(t.priceMin),priceMax:Number(t.priceMax),name:t.name,number:t.number,description:t.description,categoryId:a,colors:t.colorsList,thumbnail:n},e.t0=O,e.next="create"===e.t0?5:"update"===e.t0?7:9;break;case 5:return h(Be(r)),e.abrupt("break",10);case 7:return h(Le(c.id,r)),e.abrupt("break",10);case 9:return e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h(function(){var e=Object(A.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:n=e.sent,t(Ae(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t($(e.t0.response));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),p&&"update"===O?ht.b.success("\u0423\u0441\u043f\u0435\u0445! \u041c\u0430\u0448\u0438\u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d\u0430"):p&&"create"===O&&ht.b.success("\u0423\u0441\u043f\u0435\u0445! \u041c\u0430\u0448\u0438\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"),Object(g.jsxs)(C.a,{name:"editCar",labelCol:{span:6},initialValues:{priceMin:(null===c||void 0===c?void 0:c.priceMin)||null,priceMax:(null===c||void 0===c?void 0:c.priceMax)||null,name:(null===c||void 0===c?void 0:c.name)||null,number:(null===c||void 0===c?void 0:c.number)||null,description:(null===c||void 0===c?void 0:c.description)||null,categoryId:(null===c||void 0===c||null===(t=c.categoryId)||void 0===t?void 0:t.name)||null},onFinish:x,children:[Object(g.jsx)(C.a.Item,{label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",name:"priceMin",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043c\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e"}],children:Object(g.jsx)(at.a,{placeholder:"0"})}),Object(g.jsx)(C.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",name:"priceMax",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043c\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e"}],children:Object(g.jsx)(at.a,{placeholder:"0"})}),Object(g.jsx)(C.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e"}],children:Object(g.jsx)(at.a,{placeholder:"Ford Focus"})}),Object(g.jsx)(C.a.Item,{label:"\u041d\u043e\u043c\u0435\u0440",name:"number",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"}],children:Object(g.jsx)(at.a,{placeholder:"A000AA"})}),Object(g.jsx)(C.a.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",children:Object(g.jsx)(at.a.TextArea,{showCount:!0,maxLength:200,autoSize:!0,placeholder:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c-\u043a\u043b\u0430\u0441\u0441"})}),Object(g.jsx)(C.a.Item,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",name:"categoryId",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}],children:Object(g.jsx)(ft.a,{style:{width:200},options:m,allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(g.jsx)(C.a.Item,{className:"carColorItem",label:"\u0426\u0432\u0435\u0442\u0430",children:Object(g.jsx)(C.a.List,{name:"colors",children:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(at.a,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0446\u0432\u0435\u0442",allowClear:!0,ref:f,className:"carColorInput"})}),Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"dashed",className:"carColorAddButton",onClick:function(){f.current.state.value&&(d([].concat(Object(mt.a)(u),[{id:u.length,value:f.current.state.value}])),f.current.state.value="")},block:!0,children:Object(g.jsx)(vt.a,{})})})]})}})}),Object(g.jsx)(C.a.Item,{name:"colorsList",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442\u0430",children:Object(g.jsx)(xt.a.Group,{className:"colorsList",children:u.map((function(e){return Object(g.jsx)(xt.a,{value:e.value,children:e.value},e.id)}))})}),Object(g.jsxs)("div",{className:"formButtons",children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(g.jsx)(i.b,{to:"/admin",children:p?Object(g.jsx)(E.a,{className:"cancelButton",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}):Object(g.jsx)(E.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},Tt=function(){var e,t,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(s.c)((function(e){return e.cars.carToEdit}));return Object(g.jsxs)(u.a,{className:"editingContainer",children:[Object(g.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(g.jsxs)(be.a,{align:"top",children:[Object(g.jsxs)("div",{className:"editingContent editingOne",children:[Object(g.jsx)("img",{className:"cardImage",src:(null===o||void 0===o||null===(e=o.thumbnail)||void 0===e?void 0:e.path)||(null===r||void 0===r?void 0:r.path)||pt,alt:"carImage"}),Object(g.jsx)("p",{className:"carName",children:(null===o||void 0===o?void 0:o.name)||"\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e"}),Object(g.jsx)("p",{className:"carCategory",children:(null===o||void 0===o||null===(t=o.categoryId)||void 0===t?void 0:t.name)||"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(g.jsx)(bt.a,{name:"file",beforeUpload:function(e){var t=new FileReader;return t.readAsDataURL(e),t.onload=function(){var n={mimetype:e.type,originalname:e.name,path:t.result,size:e.size};i(n)},!1},children:Object(g.jsx)(E.a,{icon:Object(g.jsx)(Ot.a,{}),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b..."})})]}),Object(g.jsxs)("div",{className:"editingContent editingTwo",children:[Object(g.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(g.jsx)(yt,{image:r,carToEdit:o})]})]})]})},gt=function(e){var t=e.cityToEdit,n=Object(s.c)((function(e){return e.cities})),a=n.cityAction,c=n.citySuccess,r=Object(s.b)();return c&&"update"===a?ht.b.success("\u0423\u0441\u043f\u0435\u0445! \u0413\u043e\u0440\u043e\u0434 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d"):c&&"create"===a&&ht.b.success("\u0423\u0441\u043f\u0435\u0445! \u0413\u043e\u0440\u043e\u0434 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),Object(g.jsxs)(C.a,{name:"editCity",labelCol:{span:5},initialValues:{name:(null===t||void 0===t?void 0:t.name)||null},onFinish:function(e){switch(a){case"create":r((n=e,function(){var e=Object(A.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(n);case 3:200===e.sent.status?t(se(!0)):t(se(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t($(e.t0.response));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));break;case"update":r(function(e,t){return function(){var n=Object(A.a)(w.a.mark((function n(a){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K(e,t);case 3:200===n.sent.status?a(se(!0)):a(se(!1)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a($(n.t0.response));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t.id,e))}var n},children:[Object(g.jsx)(C.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}],children:Object(g.jsx)(at.a,{placeholder:"\u041c\u043e\u0441\u043a\u0432\u0430..."})}),Object(g.jsxs)("div",{className:"formButtons cityFormButtons",children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(g.jsx)(i.b,{to:"/admin",children:c?Object(g.jsx)(E.a,{className:"cancelButton",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}):Object(g.jsx)(E.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},St=(n(306),function(){var e=Object(s.c)((function(e){return e.cities.cityToEdit}));return Object(g.jsxs)(u.a,{className:"editingContainer",children:[Object(g.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(g.jsxs)("div",{className:"editingContent cityEditContent",children:[Object(g.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(g.jsx)(gt,{cityToEdit:e})]})]})}),It=function(e){var t,n=e.pointToEdit,c=Object(s.c)((function(e){return e.points})),r=c.pointAction,o=c.pointSuccess,l=Object(s.c)((function(e){return e.cities.cities})),u=l.map((function(e){return{value:e.name}})),d=Object(s.b)();return Object(a.useEffect)((function(){d(oe())}),[]),o&&"update"===r?ht.b.success("\u0423\u0441\u043f\u0435\u0445! \u041f\u0443\u043d\u043a\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d"):o&&"create"===r&&ht.b.success("\u0423\u0441\u043f\u0435\u0445! \u041f\u0443\u043d\u043a\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),Object(g.jsxs)(C.a,{name:"editPoint",labelCol:{span:4},initialValues:{name:(null===n||void 0===n?void 0:n.name)||null,address:(null===n||void 0===n?void 0:n.address)||null,cityId:(null===n||void 0===n||null===(t=n.cityId)||void 0===t?void 0:t.name)||null},onFinish:function(e){var t,a=l.find((function(t){return t.name===e.cityId})).id;switch(r){case"create":d((t=Object(h.a)(Object(h.a)({},e),{},{cityId:a}),function(){var e=Object(A.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:200===e.sent.status?n(Ve(!0)):n(Ve(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n($(e.t0.response));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));break;case"update":d(function(e,t){return function(){var n=Object(A.a)(w.a.mark((function n(a){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q(e,t);case 3:200===n.sent.status?a(Ve(!0)):a(Ve(!1)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a($(n.t0.response));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n.id,Object(h.a)(Object(h.a)({},e),{},{cityId:a})))}},children:[Object(g.jsx)(C.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0443\u043d\u043a\u0442\u0430"}],children:Object(g.jsx)(at.a,{placeholder:"\u041f\u0443\u043d\u043a\u0442..."})}),Object(g.jsx)(C.a.Item,{label:"\u0410\u0434\u0440\u0435\u0441",name:"address",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u0443\u043d\u043a\u0442\u0430"}],children:Object(g.jsx)(at.a,{placeholder:"\u0443\u043b. \u0421\u0442\u0430\u0445\u0430\u043d\u043e\u0432\u0441\u043a\u0430\u044f, 29/1"})}),Object(g.jsx)(C.a.Item,{label:"\u0413\u043e\u0440\u043e\u0434",name:"cityId",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"}],children:Object(g.jsx)(ft.a,{style:{width:200},options:u,allowClear:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434...",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})}),Object(g.jsxs)("div",{className:"formButtons pointFormButtons",children:[Object(g.jsx)(C.a.Item,{children:Object(g.jsx)(E.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(g.jsx)(i.b,{to:"/admin",children:o?Object(g.jsx)(E.a,{className:"cancelButton",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}):Object(g.jsx)(E.a,{danger:!0,className:"cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})},Ct=(n(307),function(){var e=Object(s.c)((function(e){return e.points.pointToEdit}));return Object(g.jsxs)(u.a,{className:"editingContainer",children:[Object(g.jsx)("h1",{className:"pageTitle editingTitle",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(g.jsxs)("div",{className:"editingContent pointEditContent",children:[Object(g.jsx)("p",{className:"EntityFormTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(g.jsx)(It,{pointToEdit:e})]})]})}),Nt=(n(308),function(e){var t=e.code,n=e.msg,a=e.submsg,c=Object(s.b)();return Object(g.jsx)(u.a,{className:"errorPageLayout",children:Object(g.jsxs)("div",{className:"errorPageContent",children:[Object(g.jsx)("div",{className:"errorCode",children:t}),Object(g.jsx)("div",{className:"errorMessage",children:n}),Object(g.jsx)("div",{className:"errorSubMessage",children:a}),Object(g.jsx)(i.b,{to:"/admin",onClick:function(){c($(null))},children:Object(g.jsx)(E.a,{type:"primary",children:"\u041d\u0430\u0437\u0430\u0434"})})]})})}),Et=function(){var e=Object(s.c)((function(e){return e.auth.isAuth})),t=Object(s.c)((function(e){return e.utils.error}));return t?Object(g.jsx)(Nt,{code:t.status,msg:t.statusText?t.statusText:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430",submsg:t.data}):Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(o.a,{to:"/admin"})}}),Object(g.jsx)(jt,{path:"/admin",redirect:"/login",isAuth:e,children:Object(g.jsx)(nt,{})}),Object(g.jsx)(jt,{path:"/login",redirect:"/admin",isAuth:!e,children:Object(g.jsx)(dt,{})}),Object(g.jsx)(jt,{path:"/car-edit",redirect:"/login",isAuth:e,children:Object(g.jsx)(Tt,{})}),Object(g.jsx)(jt,{path:"/city-edit",redirect:"/login",isAuth:e,children:Object(g.jsx)(St,{})}),Object(g.jsx)(jt,{path:"/point-edit",redirect:"/login",isAuth:e,children:Object(g.jsx)(Ct,{})}),Object(g.jsx)(o.b,{render:function(){return Object(g.jsx)(Nt,{code:404,msg:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",submsg:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043d\u0438\u0436\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u0442 \u0432\u0430\u0441 \u043a\u0443\u0434\u0430 \u043d\u0430\u0434\u043e"})}})]})},_t=n(147),wt=n(184),At={isAuth:!1,authStatus:null},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_DATA":return Object(h.a)(Object(h.a)({},e),{},{isAuth:!0});case"AUTH/SET_AUTH_STATUS":return Object(h.a)(Object(h.a)({},e),{},{authStatus:t.payload});default:return e}},Rt={orders:[],totalCount:null,orderStatus:[]},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS/SET_ORDERS_PORTION":return Object(h.a)(Object(h.a)({},e),{},{orders:t.payload});case"ORDERS/ORDERS_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"ORDERS/SET_ORDER_STATUS":return Object(h.a)(Object(h.a)({},e),{},{orderStatus:t.payload});default:return e}},Pt={cars:[],carToEdit:null,currentPage:1,totalCount:null,categories:[],carAction:null,carSuccess:!1},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS/SET_CARS_PORTION":return Object(h.a)(Object(h.a)({},e),{},{cars:t.payload});case"CARS/CARS_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"CARS/SET_CAR_TO_EDIT":return Object(h.a)(Object(h.a)({},e),{},{carToEdit:t.payload});case"CARS/SET_CATEGORIES":return Object(h.a)(Object(h.a)({},e),{},{categories:t.payload});case"CARS/SET_CAR_ACTION":return Object(h.a)(Object(h.a)({},e),{},{carAction:t.payload});case"CARS/SET_CAR_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{carSuccess:t.payload});case"CARS/SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.payload});default:return e}},Dt={cities:[],totalCount:null,cityAction:null,cityToEdit:null,citySuccess:!1},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITIES/SET_CITIES_PORTION":return Object(h.a)(Object(h.a)({},e),{},{cities:t.payload});case"CITIES/CITIES_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"CITIES/SET_CITY_TO_EDIT":return Object(h.a)(Object(h.a)({},e),{},{cityToEdit:t.payload});case"CITIES/SET_CITY_ACTION":return Object(h.a)(Object(h.a)({},e),{},{cityAction:t.payload});case"CITIES/SET_CITY_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{citySuccess:t.payload});default:return e}},Bt={points:[],totalCount:null,pointToEdit:null,pointAction:null,pointSuccess:!1},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POINTS/SET_POINTS_PORTION":return Object(h.a)(Object(h.a)({},e),{},{points:t.payload});case"POINTS/POINTS_TOTAL_COUNT":return Object(h.a)(Object(h.a)({},e),{},{totalCount:t.payload});case"POINTS/SET_POINT_TO_EDIT":return Object(h.a)(Object(h.a)({},e),{},{pointToEdit:t.payload});case"POINTS/SET_POINT_ACTION":return Object(h.a)(Object(h.a)({},e),{},{pointAction:t.payload});case"POINTS/SET_POINT_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{pointSuccess:t.payload});default:return e}},zt={adminCurrentPage:1,error:null},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UTILS/SET_ADMIN_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{adminCurrentPage:t.payload});case"UTILS/SET_ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:t.payload});default:return e}},Ht=Object(_t.b)({auth:kt,orders:Ft,cars:Ut,cities:Lt,points:Mt,utils:qt}),Gt=Object(_t.c)(Ht,Object(_t.a)(wt.a)),Vt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,338)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};r.a.render(Object(g.jsx)(s.a,{store:Gt,children:Object(g.jsx)(i.a,{children:Object(g.jsx)(Et,{})})}),document.getElementById("root")),Vt()}},[[309,1,2]]]);
//# sourceMappingURL=main.bfdf9db5.chunk.js.map